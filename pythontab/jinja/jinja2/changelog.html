
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from docs.pythontab.com/jinja/jinja2/changelog.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Oct 2022 03:57:15 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Jinja2 Changelog &mdash; Jinja2 中文手册 2.8 documentation</title>
  
  
  
    
  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
  
   
  <script src="_static/js/modernizr.min.js"></script>
</head>
<body class="wy-body-for-nav" role="document">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index-2.html" class="icon icon-home"> Jinja2 中文手册
          

          
          </a>

          
            
            
              <div class="version">
                2.8
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://docs.pythontab.com/jinja/jinja2/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="intro.html">介绍</a></li>
<li class="toctree-l1"><a class="reference internal" href="api.html">API</a></li>
<li class="toctree-l1"><a class="reference internal" href="sandbox.html">沙箱</a></li>
<li class="toctree-l1"><a class="reference internal" href="templates.html">模板设计者文档</a></li>
<li class="toctree-l1"><a class="reference internal" href="extensions.html">扩展</a></li>
<li class="toctree-l1"><a class="reference internal" href="integration.html">集成</a></li>
<li class="toctree-l1"><a class="reference internal" href="switching.html">从其它的模板引擎切换</a></li>
<li class="toctree-l1"><a class="reference internal" href="tricks.html">提示和技巧</a></li>
</ul>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="faq.html">常见问题</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Jinja2 Changelog</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#version-2-7">Version 2.7</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-6">Version 2.6</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5-5">Version 2.5.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5-4">Version 2.5.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5-3">Version 2.5.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5-2">Version 2.5.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5-1">Version 2.5.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-5">Version 2.5</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-4-1">Version 2.4.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-4">Version 2.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-3-1">Version 2.3.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-3">Version 2.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-2-1">Version 2.2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-2">Version 2.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-1-1">Version 2.1.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-1">Version 2.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-0">Version 2.0</a></li>
<li class="toctree-l2"><a class="reference internal" href="#version-2-0rc1">Version 2.0rc1</a></li>
</ul>
</li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index-2.html">Jinja2 中文手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index-2.html"> &mdash; Jinja2 中文手册 2.8 documentation</a> &raquo;</li>
      
    <li>Jinja2 Changelog</li>
      <li class="wy-breadcrumbs-aside">
        
            <a href="../../index.html" class="fa fa-github"> 在线手册中心</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <span class="target" id="module-jinja2"></span><div class="section" id="jinja2-changelog">
<h1>Jinja2 Changelog<a class="headerlink" href="#jinja2-changelog" title="Permalink to this headline">¶</a></h1>
<div class="section" id="version-2-7">
<h2>Version 2.7<a class="headerlink" href="#version-2-7" title="Permalink to this headline">¶</a></h2>
<p>(codename to be selected, release date to be announced)</p>
<ul class="simple">
<li>Choice and prefix loaders now dispatch source and template lookup
separately in order to work in combination with module loaders as
advertised.</li>
<li>Fixed filesizeformat.</li>
<li>Added a non-silent option for babel extraction.</li>
<li>Added <cite>urlencode</cite> filter that automatically quotes values for
URL safe usage with utf-8 as only supported encoding.  If applications
want to change this encoding they can override the filter.</li>
<li>Accessing <cite>last</cite> on the loop context no longer causes the iterator
to be consumed into a list.</li>
</ul>
</div>
<div class="section" id="version-2-6">
<h2>Version 2.6<a class="headerlink" href="#version-2-6" title="Permalink to this headline">¶</a></h2>
<p>(codename Convolution, released on July 24th 2011)</p>
<ul class="simple">
<li>internal attributes now raise an internal attribute error now instead
of returning an undefined.  This fixes problems when passing undefined
objects to Python semantics expecting APIs.</li>
<li>traceback support now works properly for PyPy.  (Tested with 1.4)</li>
<li>implemented operator intercepting for sandboxed environments.  This
allows application developers to disable builtin operators for better
security.  (For instance limit the mathematical operators to actual
integers instead of longs)</li>
<li>groupby filter now supports dotted notation for grouping by attributes
of attributes.</li>
<li>scoped blocks now properly treat toplevel assignments and imports.
Previously an import suddenly &#8220;disappeared&#8221; in a scoped block.</li>
<li>automatically detect newer Python interpreter versions before loading code
from bytecode caches to prevent segfaults on invalid opcodes.  The segfault
in earlier Jinja2 versions here was not a Jinja2 bug but a limitation in
the underlying Python interpreter.  If you notice Jinja2 segfaulting in
earlier versions after an upgrade of the Python interpreter you don&#8217;t have
to upgrade, it&#8217;s enough to flush the bytecode cache.  This just no longer
makes this necessary, Jinja2 will automatically detect these cases now.</li>
<li>the sum filter can now sum up values by attribute.  This is a backwards
incompatible change.  The argument to the filter previously was the
optional starting index which defaultes to zero.  This now became the
second argument to the function because it&#8217;s rarely used.</li>
<li>like sum, sort now also makes it possible to order items by attribute.</li>
<li>like sum and sort, join now also is able to join attributes of objects
as string.</li>
<li>the internal eval context now has a reference to the environment.</li>
<li>added a mapping test to see if an object is a dict or an object with
a similar interface.</li>
</ul>
</div>
<div class="section" id="version-2-5-5">
<h2>Version 2.5.5<a class="headerlink" href="#version-2-5-5" title="Permalink to this headline">¶</a></h2>
<dl class="docutils">
<dt>(re-release of 2.5.4 with built documentation removed for filesize.</dt>
<dd>Released on October 18th 2010)</dd>
</dl>
<ul class="simple">
<li>built documentation is no longer part of release.</li>
</ul>
</div>
<div class="section" id="version-2-5-4">
<h2>Version 2.5.4<a class="headerlink" href="#version-2-5-4" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on October 17th 2010)</p>
<ul class="simple">
<li>Fixed extensions not loading properly with overlays.</li>
<li>Work around a bug in cpython for the debugger that causes segfaults
on 64bit big-endian architectures.</li>
</ul>
</div>
<div class="section" id="version-2-5-3">
<h2>Version 2.5.3<a class="headerlink" href="#version-2-5-3" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on October 17th 2010)</p>
<ul class="simple">
<li>fixed an operator precedence error introduced in 2.5.2.  Statements
like &#8220;-foo.bar&#8221; had their implicit parentheses applied around the
first part of the expression (&#8220;(-foo).bar&#8221;) instead of the more
correct &#8220;-(foo.bar)&#8221;.</li>
</ul>
</div>
<div class="section" id="version-2-5-2">
<h2>Version 2.5.2<a class="headerlink" href="#version-2-5-2" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on August 18th 2010)</p>
<ul class="simple">
<li>improved setup.py script to better work with assumptions people
might still have from it (<code class="docutils literal"><span class="pre">--with-speedups</span></code>).</li>
<li>fixed a packaging error that excluded the new debug support.</li>
</ul>
</div>
<div class="section" id="version-2-5-1">
<h2>Version 2.5.1<a class="headerlink" href="#version-2-5-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on August 17th 2010)</p>
<ul class="simple">
<li>StopIteration exceptions raised by functions called from templates
are now intercepted and converted to undefineds.  This solves a
lot of debugging grief.  (StopIteration is used internally to
abort template execution)</li>
<li>improved performance of macro calls slightly.</li>
<li>babel extraction can now properly extract newstyle gettext calls.</li>
<li>using the variable <cite>num</cite> in newstyle gettext for something else
than the pluralize count will no longer raise a <code class="xref py py-exc docutils literal"><span class="pre">KeyError</span></code>.</li>
<li>removed builtin markup class and switched to markupsafe.  For backwards
compatibility the pure Python implementation still exists but is
pulled from markupsafe by the Jinja2 developers.  The debug support
went into a separate feature called &#8220;debugsupport&#8221; and is disabled
by default because it is only relevant for Python 2.4</li>
<li>fixed an issue with unary operators having the wrong precendence.</li>
</ul>
</div>
<div class="section" id="version-2-5">
<h2>Version 2.5<a class="headerlink" href="#version-2-5" title="Permalink to this headline">¶</a></h2>
<p>(codename Incoherence, relased on May 29th 2010)</p>
<ul class="simple">
<li>improved the sort filter (should have worked like this for a
long time) by adding support for case insensitive searches.</li>
<li>fixed a bug for getattribute constant folding.</li>
<li>support for newstyle gettext translations which result in a
nicer in-template user interface and more consistent
catalogs. (<a class="reference internal" href="extensions.html#newstyle-gettext"><span>新样式 Gettext</span></a>)</li>
<li>it&#8217;s now possible to register extensions after an environment
was created.</li>
</ul>
</div>
<div class="section" id="version-2-4-1">
<h2>Version 2.4.1<a class="headerlink" href="#version-2-4-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on April 20th 2010)</p>
<ul class="simple">
<li>fixed an error reporting bug for undefineds.</li>
</ul>
</div>
<div class="section" id="version-2-4">
<h2>Version 2.4<a class="headerlink" href="#version-2-4" title="Permalink to this headline">¶</a></h2>
<p>(codename Correlation, released on April 13th 2010)</p>
<ul class="simple">
<li>the environment template loading functions now transparently
pass through a template object if it was passed to it.  This
makes it possible to import or extend from a template object
that was passed to the template.</li>
<li>added a <a class="reference internal" href="api.html#jinja2.ModuleLoader" title="jinja2.ModuleLoader"><code class="xref py py-class docutils literal"><span class="pre">ModuleLoader</span></code></a> that can load templates from
precompiled sources.  The environment now features a method
to compile the templates from a configured loader into a zip
file or folder.</li>
<li>the _speedups C extension now supports Python 3.</li>
<li>added support for autoescaping toggling sections and support
for evaluation contexts (<a class="reference internal" href="api.html#eval-context"><span>求值上下文</span></a>).</li>
<li>extensions have a priority now.</li>
</ul>
</div>
<div class="section" id="version-2-3-1">
<h2>Version 2.3.1<a class="headerlink" href="#version-2-3-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on February 19th 2010)</p>
<ul class="simple">
<li>fixed an error reporting bug on all python versions</li>
<li>fixed an error reporting bug on Python 2.4</li>
</ul>
</div>
<div class="section" id="version-2-3">
<h2>Version 2.3<a class="headerlink" href="#version-2-3" title="Permalink to this headline">¶</a></h2>
<p>(3000 Pythons, released on February 10th 2010)</p>
<ul class="simple">
<li>fixes issue with code generator that causes unbound variables
to be generated if set was used in if-blocks and other small
identifier problems.</li>
<li>include tags are now able to select between multiple templates
and take the first that exists, if a list of templates is
given.</li>
<li>fixed a problem with having call blocks in outer scopes that
have an argument that is also used as local variable in an
inner frame (#360).</li>
<li>greatly improved error message reporting (#339)</li>
<li>implicit tuple expressions can no longer be totally empty.
This change makes <code class="docutils literal"><span class="pre">{%</span> <span class="pre">if</span> <span class="pre">%}...{%</span> <span class="pre">endif</span> <span class="pre">%}</span></code> a syntax error
now. (#364)</li>
<li>added support for translator comments if extracted via babel.</li>
<li>added with-statement extension.</li>
<li>experimental Python 3 support.</li>
</ul>
</div>
<div class="section" id="version-2-2-1">
<h2>Version 2.2.1<a class="headerlink" href="#version-2-2-1" title="Permalink to this headline">¶</a></h2>
<p>(bugfix release, released on September 14th 2009)</p>
<ul class="simple">
<li>fixes some smaller problems for Jinja2 on Jython.</li>
</ul>
</div>
<div class="section" id="version-2-2">
<h2>Version 2.2<a class="headerlink" href="#version-2-2" title="Permalink to this headline">¶</a></h2>
<p>(codename Kong, released on September 13th 2009)</p>
<ul class="simple">
<li>Include statements can now be marked with <code class="docutils literal"><span class="pre">ignore</span> <span class="pre">missing</span></code> to skip
non existing templates.</li>
<li>Priority of <cite>not</cite> raised.  It&#8217;s now possible to write <cite>not foo in bar</cite>
as an alias to <cite>foo not in bar</cite> like in python.  Previously the grammar
required parentheses (<cite>not (foo in bar)</cite>) which was odd.</li>
<li>Fixed a bug that caused syntax errors when defining macros or using the
<cite>{% call %}</cite> tag inside loops.</li>
<li>Fixed a bug in the parser that made <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo[1,</span> <span class="pre">2]</span> <span class="pre">}}</span></code> impossible.</li>
<li>Made it possible to refer to names from outer scopes in included templates
that were unused in the callers frame (#327)</li>
<li>Fixed a bug that caused internal errors if names where used as iteration
variable and regular variable <em>after</em> the loop if that variable was unused
<em>before</em> the loop.  (#331)</li>
<li>Added support for optional <cite>scoped</cite> modifier to blocks.</li>
<li>Added support for line-comments.</li>
<li>Added the <cite>meta</cite> module.</li>
<li>Renamed (undocumented) attribute &#8220;overlay&#8221; to &#8220;overlayed&#8221; on the
environment because it was clashing with a method of the same name.</li>
<li>speedup extension is now disabled by default.</li>
</ul>
</div>
<div class="section" id="version-2-1-1">
<h2>Version 2.1.1<a class="headerlink" href="#version-2-1-1" title="Permalink to this headline">¶</a></h2>
<p>(Bugfix release)</p>
<ul class="simple">
<li>Fixed a translation error caused by looping over empty recursive loops.</li>
</ul>
</div>
<div class="section" id="version-2-1">
<h2>Version 2.1<a class="headerlink" href="#version-2-1" title="Permalink to this headline">¶</a></h2>
<p>(codename Yasuzō, released on November 23rd 2008)</p>
<ul class="simple">
<li>fixed a bug with nested loops and the special loop variable.  Before the
change an inner loop overwrote the loop variable from the outer one after
iteration.</li>
<li>fixed a bug with the i18n extension that caused the explicit pluralization
block to look up the wrong variable.</li>
<li>fixed a limitation in the lexer that made <code class="docutils literal"><span class="pre">{{</span> <span class="pre">foo.0.0</span> <span class="pre">}}</span></code> impossible.</li>
<li>index based subscribing of variables with a constant value returns an
undefined object now instead of raising an index error.  This was a bug
caused by eager optimizing.</li>
<li>the i18n extension looks up <cite>foo.ugettext</cite> now followed by <cite>foo.gettext</cite>
if an translations object is installed.  This makes dealing with custom
translations classes easier.</li>
<li>fixed a confusing behavior with conditional extending.  loops were partially
executed under some conditions even though they were not part of a visible
area.</li>
<li>added <cite>sort</cite> filter that works like <cite>dictsort</cite> but for arbitrary sequences.</li>
<li>fixed a bug with empty statements in macros.</li>
<li>implemented a bytecode cache system.  (<a class="reference internal" href="api.html#bytecode-cache"><span>字节码缓存</span></a>)</li>
<li>the template context is now weakref-able</li>
<li>inclusions and imports &#8220;with context&#8221; forward all variables now, not only
the initial context.</li>
<li>added a cycle helper called <cite>cycler</cite>.</li>
<li>added a joining helper called <cite>joiner</cite>.</li>
<li>added a <cite>compile_expression</cite> method to the environment that allows compiling
of Jinja expressions into callable Python objects.</li>
<li>fixed an escaping bug in urlize</li>
</ul>
</div>
<div class="section" id="version-2-0">
<h2>Version 2.0<a class="headerlink" href="#version-2-0" title="Permalink to this headline">¶</a></h2>
<p>(codename jinjavitus, released on July 17th 2008)</p>
<ul>
<li><p class="first">the subscribing of objects (looking up attributes and items) changed from
slightly.  It&#8217;s now possible to give attributes or items a higher priority
by either using dot-notation lookup or the bracket syntax.  This also
changed the AST slightly.  <cite>Subscript</cite> is gone and was replaced with
<a class="reference internal" href="extensions.html#jinja2.nodes.Getitem" title="jinja2.nodes.Getitem"><code class="xref py py-class docutils literal"><span class="pre">Getitem</span></code></a> and <a class="reference internal" href="extensions.html#jinja2.nodes.Getattr" title="jinja2.nodes.Getattr"><code class="xref py py-class docutils literal"><span class="pre">Getattr</span></code></a>.</p>
<p>For more information see <a class="reference internal" href="templates.html#notes-on-subscriptions"><span>the implementation details</span></a>.</p>
</li>
<li><p class="first">added support for preprocessing and token stream filtering for extensions.
This would allow extensions to allow simplified gettext calls in template
data and something similar.</p>
</li>
<li><p class="first">added <a class="reference internal" href="api.html#jinja2.environment.TemplateStream.dump" title="jinja2.environment.TemplateStream.dump"><code class="xref py py-meth docutils literal"><span class="pre">jinja2.environment.TemplateStream.dump()</span></code></a>.</p>
</li>
<li><p class="first">added missing support for implicit string literal concatenation.
<code class="docutils literal"><span class="pre">{{</span> <span class="pre">&quot;foo&quot;</span> <span class="pre">&quot;bar&quot;</span> <span class="pre">}}</span></code> is equivalent to <code class="docutils literal"><span class="pre">{{</span> <span class="pre">&quot;foobar&quot;</span> <span class="pre">}}</span></code></p>
</li>
<li><p class="first"><cite>else</cite> is optional for conditional expressions.  If not given it evaluates
to <cite>false</cite>.</p>
</li>
<li><p class="first">improved error reporting for undefined values by providing a position.</p>
</li>
<li><p class="first"><cite>filesizeformat</cite> filter uses decimal prefixes now per default and can be
set to binary mode with the second parameter.</p>
</li>
<li><p class="first">fixed bug in finalizer</p>
</li>
</ul>
</div>
<div class="section" id="version-2-0rc1">
<h2>Version 2.0rc1<a class="headerlink" href="#version-2-0rc1" title="Permalink to this headline">¶</a></h2>
<p>(no codename, released on June 9th 2008)</p>
<ul class="simple">
<li>first release of Jinja2</li>
</ul>
</div>
</div>


           </div>
          </div>
	<hr/>
	<div>
		<p>扫码关注，获取更多内容</p>
		<img src="../../statics/img/qrcode.jpg" width="100" height="100" />
	</div>
	<!-- duoshuo start -->
	<div class="ds-thread"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"pytabdocs"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = '../../statics/js/duoshuo.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
	<!-- duoshuo end -->
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
      
        <a href="faq.html" class="btn btn-neutral" title="常见问题" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2016, Armin Ronacher.
      Last updated on Oct 24, 2016.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'2.8',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   
  <script type="text/javascript" src="../../static/js/global.html" ></script>
  <script type="text/javascript">
        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F141f4ed9eb11f462fa19fdd960639134' type='text/javascript'%3E%3C/script%3E"));
  </script>
</body>

<!-- Mirrored from docs.pythontab.com/jinja/jinja2/changelog.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Oct 2022 03:57:15 GMT -->
</html>