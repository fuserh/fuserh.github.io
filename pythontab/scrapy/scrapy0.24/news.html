
<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->

<!-- Mirrored from docs.pythontab.com/scrapy/scrapy0.24/news.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Oct 2022 03:51:26 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Release notes &mdash; Scrapy 中文手册 0.25 文档</title>
  
  
  
    
  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  
  
   
  <script src="_static/js/modernizr.min.js"></script>
</head>
<body class="wy-body-for-nav" role="document">
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="index-2.html" class="icon icon-home"> Scrapy 中文手册
          

          
          </a>

          
            
            
              <div class="version">
                0.25
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="https://docs.pythontab.com/scrapy/scrapy0.24/search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
                <ul>
<li class="toctree-l1"><a class="reference internal" href="intro/overview.html">初窥Scrapy</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro/install.html">安装指南</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro/tutorial.html">Scrapy入门教程</a></li>
<li class="toctree-l1"><a class="reference internal" href="intro/examples.html">例子</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/commands.html">命令行工具(Command line tools)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/items.html">Items</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/spiders.html">Spiders</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/selectors.html">选择器(Selectors)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/loaders.html">Item Loaders</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/shell.html">Scrapy终端(Scrapy shell)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/item-pipeline.html">Item Pipeline</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/feed-exports.html">Feed exports</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/link-extractors.html">Link Extractors</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/logging.html">Logging</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/stats.html">数据收集(Stats Collection)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/email.html">发送email</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/telnetconsole.html">Telnet终端(Telnet Console)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/webservice.html">Web Service</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="faq.html">常见问题(FAQ)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/debug.html">调试(Debugging)Spiders</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/contracts.html">Spiders Contracts</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/practices.html">实践经验(Common Practices)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/broad-crawls.html">通用爬虫(Broad Crawls)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/firefox.html">借助Firefox来爬取</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/firebug.html">使用Firebug进行爬取</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/leaks.html">调试内存溢出</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/images.html">下载项目图片</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/ubuntu.html">Ubuntu 软件包</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/scrapyd.html">Scrapyd</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/autothrottle.html">自动限速(AutoThrottle)扩展</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/benchmarking.html">Benchmarking</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/jobs.html">Jobs: 暂停，恢复爬虫</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/djangoitem.html">DjangoItem</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/architecture.html">架构概览</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/downloader-middleware.html">下载器中间件(Downloader Middleware)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/spider-middleware.html">Spider中间件(Middleware)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/extensions.html">扩展(Extensions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/api.html">核心API</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="topics/request-response.html">Requests and Responses</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/settings.html">Settings</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/signals.html">信号(Signals)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/exceptions.html">异常(Exceptions)</a></li>
<li class="toctree-l1"><a class="reference internal" href="topics/exporters.html">Item Exporters</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="#">Release notes</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#id1">0.24.4 (2014-08-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id6">0.24.3 (2014-08-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id65">0.24.2 (2014-07-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id74">0.24.1 (2014-06-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id77">0.24.0 (2014-06-26)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#enhancements">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#bugfixes">Bugfixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#released-2014-02-14">0.22.2 (released 2014-02-14)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2014-02-08">0.22.1 (released 2014-02-08)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2014-01-17">0.22.0 (released 2014-01-17)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id336">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#fixes">Fixes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-12-09">0.20.2 (released 2013-12-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-11-28">0.20.1 (released 2013-11-28)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-11-08">0.20.0 (released 2013-11-08)</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id431">Enhancements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id494">Bugfixes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#other">Other</a></li>
<li class="toctree-l3"><a class="reference internal" href="#thanks">Thanks</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-10-10">0.18.4 (released 2013-10-10)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-10-03">0.18.3 (released 2013-10-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-09-03">0.18.2 (released 2013-09-03)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-08-27">0.18.1 (released 2013-08-27)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-08-09">0.18.0 (released 2013-08-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-05-30">0.16.5 (released 2013-05-30)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2013-01-23">0.16.4 (released 2013-01-23)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2012-12-07">0.16.3 (released 2012-12-07)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2012-11-09">0.16.2 (released 2012-11-09)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2012-10-26">0.16.1 (released 2012-10-26)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#released-2012-10-18">0.16.0 (released 2012-10-18)</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id721">0.14.4</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id732">0.14.3</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id751">0.14.2</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id774">0.14.1</a></li>
<li class="toctree-l2"><a class="reference internal" href="#id797">0.14</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features-and-settings">New features and settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#code-rearranged-and-removed">Code rearranged and removed</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id912">0.12</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features-and-improvements">New features and improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#scrapyd-changes">Scrapyd changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-to-settings">Changes to settings</a></li>
<li class="toctree-l3"><a class="reference internal" href="#deprecated-obsoleted-functionality">Deprecated/obsoleted functionality</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id919">0.10</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id920">New features and improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#command-line-tool-changes">Command-line tool changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#api-changes">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id921">Changes to settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id922">0.9</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#id923">New features and improvements</a></li>
<li class="toctree-l3"><a class="reference internal" href="#id976">API changes</a></li>
<li class="toctree-l3"><a class="reference internal" href="#changes-to-default-settings">Changes to default settings</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id999">0.8</a><ul>
<li class="toctree-l3"><a class="reference internal" href="#new-features">New features</a></li>
<li class="toctree-l3"><a class="reference internal" href="#backwards-incompatible-changes">Backwards-incompatible changes</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="#id1048">0.7</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="contributing.html">Contributing to Scrapy</a></li>
<li class="toctree-l1"><a class="reference internal" href="versioning.html">Versioning and API Stability</a></li>
<li class="toctree-l1"><a class="reference internal" href="experimental/index.html">试验阶段特性</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="index-2.html">Scrapy 中文手册</a>
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          





<div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="index-2.html"> &mdash; Scrapy 中文手册 0.25 文档</a> &raquo;</li>
      
    <li>Release notes</li>
      <li class="wy-breadcrumbs-aside">
        
            <a href="../../index.html" class="fa fa-github"> 在线手册中心</a>
        
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
    
  <div class="section" id="release-notes">
<span id="news"></span><h1>Release notes<a class="headerlink" href="#release-notes" title="永久链接至标题">¶</a></h1>
<div class="section" id="id1">
<h2>0.24.4 (2014-08-09)<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>pem file is used by mockserver and required by scrapy bench (<a href="#id2"><span class="problematic" id="id3">:commit:`5eddc68`</span></a>)</li>
<li>scrapy bench needs scrapy.tests* (<a href="#id4"><span class="problematic" id="id5">:commit:`d6cb999`</span></a>)</li>
</ul>
</div>
<div class="section" id="id6">
<h2>0.24.3 (2014-08-09)<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>no need to waste travis-ci time on py3 for 0.24 (<a href="#id7"><span class="problematic" id="id8">:commit:`8e080c1`</span></a>)</li>
<li>Update installation docs (<a href="#id9"><span class="problematic" id="id10">:commit:`1d0c096`</span></a>)</li>
<li>There is a trove classifier for Scrapy framework! (<a href="#id11"><span class="problematic" id="id12">:commit:`4c701d7`</span></a>)</li>
<li>update other places where w3lib version is mentioned (<a href="#id13"><span class="problematic" id="id14">:commit:`d109c13`</span></a>)</li>
<li>Update w3lib requirement to 1.8.0 (<a href="#id15"><span class="problematic" id="id16">:commit:`39d2ce5`</span></a>)</li>
<li>Use w3lib.html.replace_entities() (remove_entities() is deprecated) (<a href="#id17"><span class="problematic" id="id18">:commit:`180d3ad`</span></a>)</li>
<li>set zip_safe=False (<a href="#id19"><span class="problematic" id="id20">:commit:`a51ee8b`</span></a>)</li>
<li>do not ship tests package (<a href="#id21"><span class="problematic" id="id22">:commit:`ee3b371`</span></a>)</li>
<li>scrapy.bat is not needed anymore (<a href="#id23"><span class="problematic" id="id24">:commit:`c3861cf`</span></a>)</li>
<li>Modernize setup.py (<a href="#id25"><span class="problematic" id="id26">:commit:`362e322`</span></a>)</li>
<li>headers can not handle non-string values (<a href="#id27"><span class="problematic" id="id28">:commit:`94a5c65`</span></a>)</li>
<li>fix ftp test cases (<a href="#id29"><span class="problematic" id="id30">:commit:`a274a7f`</span></a>)</li>
<li>The sum up of travis-ci builds are taking like 50min to complete (<a href="#id31"><span class="problematic" id="id32">:commit:`ae1e2cc`</span></a>)</li>
<li>Update shell.rst typo (<a href="#id33"><span class="problematic" id="id34">:commit:`e49c96a`</span></a>)</li>
<li>removes weird indentation in the shell results (<a href="#id35"><span class="problematic" id="id36">:commit:`1ca489d`</span></a>)</li>
<li>improved explanations, clarified blog post as source, added link for XPath string functions in the spec (<a href="#id37"><span class="problematic" id="id38">:commit:`65c8f05`</span></a>)</li>
<li>renamed UserTimeoutError and ServerTimeouterror #583 (<a href="#id39"><span class="problematic" id="id40">:commit:`037f6ab`</span></a>)</li>
<li>adding some xpath tips to selectors docs (<a href="#id41"><span class="problematic" id="id42">:commit:`2d103e0`</span></a>)</li>
<li>fix tests to account for <a class="reference external" href="https://github.com/scrapy/w3lib/pull/23">https://github.com/scrapy/w3lib/pull/23</a> (<a href="#id43"><span class="problematic" id="id44">:commit:`f8d366a`</span></a>)</li>
<li>get_func_args maximum recursion fix #728 (<a href="#id45"><span class="problematic" id="id46">:commit:`81344ea`</span></a>)</li>
<li>Updated input/ouput processor example according to #560. (<a href="#id47"><span class="problematic" id="id48">:commit:`f7c4ea8`</span></a>)</li>
<li>Fixed Python syntax in tutorial. (<a href="#id49"><span class="problematic" id="id50">:commit:`db59ed9`</span></a>)</li>
<li>Add test case for tunneling proxy (<a href="#id51"><span class="problematic" id="id52">:commit:`f090260`</span></a>)</li>
<li>Bugfix for leaking Proxy-Authorization header to remote host when using tunneling (<a href="#id53"><span class="problematic" id="id54">:commit:`d8793af`</span></a>)</li>
<li>Extract links from XHTML documents with MIME-Type &#8220;application/xml&#8221; (<a href="#id55"><span class="problematic" id="id56">:commit:`ed1f376`</span></a>)</li>
<li>Merge pull request #793 from roysc/patch-1 (<a href="#id57"><span class="problematic" id="id58">:commit:`91a1106`</span></a>)</li>
<li>Fix typo in commands.rst (<a href="#id59"><span class="problematic" id="id60">:commit:`743e1e2`</span></a>)</li>
<li>better testcase for settings.overrides.setdefault (<a href="#id61"><span class="problematic" id="id62">:commit:`e22daaf`</span></a>)</li>
<li>Using CRLF as line marker according to http 1.1 definition (<a href="#id63"><span class="problematic" id="id64">:commit:`5ec430b`</span></a>)</li>
</ul>
</div>
<div class="section" id="id65">
<h2>0.24.2 (2014-07-08)<a class="headerlink" href="#id65" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Use a mutable mapping to proxy deprecated settings.overrides and settings.defaults attribute (<a href="#id66"><span class="problematic" id="id67">:commit:`e5e8133`</span></a>)</li>
<li>there is not support for python3 yet (<a href="#id68"><span class="problematic" id="id69">:commit:`3cd6146`</span></a>)</li>
<li>Update python compatible version set to debian packages (<a href="#id70"><span class="problematic" id="id71">:commit:`fa5d76b`</span></a>)</li>
<li>DOC fix formatting in release notes (<a href="#id72"><span class="problematic" id="id73">:commit:`c6a9e20`</span></a>)</li>
</ul>
</div>
<div class="section" id="id74">
<h2>0.24.1 (2014-06-27)<a class="headerlink" href="#id74" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Fix deprecated CrawlerSettings and increase backwards compatibility with
.defaults attribute (<a href="#id75"><span class="problematic" id="id76">:commit:`8e3f20a`</span></a>)</li>
</ul>
</div>
<div class="section" id="id77">
<h2>0.24.0 (2014-06-26)<a class="headerlink" href="#id77" title="永久链接至标题">¶</a></h2>
<div class="section" id="enhancements">
<h3>Enhancements<a class="headerlink" href="#enhancements" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Improve Scrapy top-level namespace (<a href="#id78"><span class="problematic" id="id79">:issue:`494`</span></a>, <a href="#id80"><span class="problematic" id="id81">:issue:`684`</span></a>)</li>
<li>Add selector shortcuts to responses (<a href="#id82"><span class="problematic" id="id83">:issue:`554`</span></a>, <a href="#id84"><span class="problematic" id="id85">:issue:`690`</span></a>)</li>
<li>Add new lxml based LinkExtractor to replace unmantained SgmlLinkExtractor
(<a href="#id86"><span class="problematic" id="id87">:issue:`559`</span></a>, <a href="#id88"><span class="problematic" id="id89">:issue:`761`</span></a>, <a href="#id90"><span class="problematic" id="id91">:issue:`763`</span></a>)</li>
<li>Cleanup settings API - part of per-spider settings <strong>GSoC project</strong> (<a href="#id92"><span class="problematic" id="id93">:issue:`737`</span></a>)</li>
<li>Add UTF8 encoding header to templates (<a href="#id94"><span class="problematic" id="id95">:issue:`688`</span></a>, <a href="#id96"><span class="problematic" id="id97">:issue:`762`</span></a>)</li>
<li>Telnet console now binds to 127.0.0.1 by default (<a href="#id98"><span class="problematic" id="id99">:issue:`699`</span></a>)</li>
<li>Update debian/ubuntu install instructions (<a href="#id100"><span class="problematic" id="id101">:issue:`509`</span></a>, <a href="#id102"><span class="problematic" id="id103">:issue:`549`</span></a>)</li>
<li>Disable smart strings in lxml XPath evaluations (<a href="#id104"><span class="problematic" id="id105">:issue:`535`</span></a>)</li>
<li>Restore filesystem based cache as default for http
cache middleware (<a href="#id106"><span class="problematic" id="id107">:issue:`541`</span></a>, <a href="#id108"><span class="problematic" id="id109">:issue:`500`</span></a>, <a href="#id110"><span class="problematic" id="id111">:issue:`571`</span></a>)</li>
<li>Expose current crawler in Scrapy shell (<a href="#id112"><span class="problematic" id="id113">:issue:`557`</span></a>)</li>
<li>Improve testsuite comparing CSV and XML exporters (<a href="#id114"><span class="problematic" id="id115">:issue:`570`</span></a>)</li>
<li>New <cite>offsite/filtered</cite> and <cite>offsite/domains</cite> stats (<a href="#id116"><span class="problematic" id="id117">:issue:`566`</span></a>)</li>
<li>Support process_links as generator in CrawlSpider (<a href="#id118"><span class="problematic" id="id119">:issue:`555`</span></a>)</li>
<li>Verbose logging and new stats counters for DupeFilter (<a href="#id120"><span class="problematic" id="id121">:issue:`553`</span></a>)</li>
<li>Add a mimetype parameter to <cite>MailSender.send()</cite> (<a href="#id122"><span class="problematic" id="id123">:issue:`602`</span></a>)</li>
<li>Generalize file pipeline log messages (<a href="#id124"><span class="problematic" id="id125">:issue:`622`</span></a>)</li>
<li>Replace unencodeable codepoints with html entities in SGMLLinkExtractor (<a href="#id126"><span class="problematic" id="id127">:issue:`565`</span></a>)</li>
<li>Converted SEP documents to rst format (<a href="#id128"><span class="problematic" id="id129">:issue:`629`</span></a>, <a href="#id130"><span class="problematic" id="id131">:issue:`630`</span></a>,
<a href="#id132"><span class="problematic" id="id133">:issue:`638`</span></a>, <a href="#id134"><span class="problematic" id="id135">:issue:`632`</span></a>, <a href="#id136"><span class="problematic" id="id137">:issue:`636`</span></a>, <a href="#id138"><span class="problematic" id="id139">:issue:`640`</span></a>, <a href="#id140"><span class="problematic" id="id141">:issue:`635`</span></a>,
<a href="#id142"><span class="problematic" id="id143">:issue:`634`</span></a>, <a href="#id144"><span class="problematic" id="id145">:issue:`639`</span></a>, <a href="#id146"><span class="problematic" id="id147">:issue:`637`</span></a>, <a href="#id148"><span class="problematic" id="id149">:issue:`631`</span></a>, <a href="#id150"><span class="problematic" id="id151">:issue:`633`</span></a>,
<a href="#id152"><span class="problematic" id="id153">:issue:`641`</span></a>, <a href="#id154"><span class="problematic" id="id155">:issue:`642`</span></a>)</li>
<li>Tests and docs for clickdata&#8217;s nr index in FormRequest (<a href="#id156"><span class="problematic" id="id157">:issue:`646`</span></a>, <a href="#id158"><span class="problematic" id="id159">:issue:`645`</span></a>)</li>
<li>Allow to disable a downloader handler just like any other component (<a href="#id160"><span class="problematic" id="id161">:issue:`650`</span></a>)</li>
<li>Log when a request is discarded after too many redirections (<a href="#id162"><span class="problematic" id="id163">:issue:`654`</span></a>)</li>
<li>Log error responses if they are not handled by spider callbacks
(<a href="#id164"><span class="problematic" id="id165">:issue:`612`</span></a>, <a href="#id166"><span class="problematic" id="id167">:issue:`656`</span></a>)</li>
<li>Add content-type check to http compression mw (<a href="#id168"><span class="problematic" id="id169">:issue:`193`</span></a>, <a href="#id170"><span class="problematic" id="id171">:issue:`660`</span></a>)</li>
<li>Run pypy tests using latest pypi from ppa (<a href="#id172"><span class="problematic" id="id173">:issue:`674`</span></a>)</li>
<li>Run test suite using pytest instead of trial (<a href="#id174"><span class="problematic" id="id175">:issue:`679`</span></a>)</li>
<li>Build docs and check for dead links in tox environment (<a href="#id176"><span class="problematic" id="id177">:issue:`687`</span></a>)</li>
<li>Make scrapy.version_info a tuple of integers (<a href="#id178"><span class="problematic" id="id179">:issue:`681`</span></a>, <a href="#id180"><span class="problematic" id="id181">:issue:`692`</span></a>)</li>
<li>Infer exporter&#8217;s output format from filename extensions
(<a href="#id182"><span class="problematic" id="id183">:issue:`546`</span></a>, <a href="#id184"><span class="problematic" id="id185">:issue:`659`</span></a>, <a href="#id186"><span class="problematic" id="id187">:issue:`760`</span></a>)</li>
<li>Support case-insensitive domains in <cite>url_is_from_any_domain()</cite> (<a href="#id188"><span class="problematic" id="id189">:issue:`693`</span></a>)</li>
<li>Remove pep8 warnings in project and spider templates (<a href="#id190"><span class="problematic" id="id191">:issue:`698`</span></a>)</li>
<li>Tests and docs for <cite>request_fingerprint</cite> function (<a href="#id192"><span class="problematic" id="id193">:issue:`597`</span></a>)</li>
<li>Update SEP-19 for GSoC project <cite>per-spider settings</cite> (<a href="#id194"><span class="problematic" id="id195">:issue:`705`</span></a>)</li>
<li>Set exit code to non-zero when contracts fails (<a href="#id196"><span class="problematic" id="id197">:issue:`727`</span></a>)</li>
<li>Add a setting to control what class is instanciated as Downloader component
(<a href="#id198"><span class="problematic" id="id199">:issue:`738`</span></a>)</li>
<li>Pass response in <cite>item_dropped</cite> signal (<a href="#id200"><span class="problematic" id="id201">:issue:`724`</span></a>)</li>
<li>Improve <cite>scrapy check</cite> contracts command (<a href="#id202"><span class="problematic" id="id203">:issue:`733`</span></a>, <a href="#id204"><span class="problematic" id="id205">:issue:`752`</span></a>)</li>
<li>Document <cite>spider.closed()</cite> shortcut (<a href="#id206"><span class="problematic" id="id207">:issue:`719`</span></a>)</li>
<li>Document <cite>request_scheduled</cite> signal (<a href="#id208"><span class="problematic" id="id209">:issue:`746`</span></a>)</li>
<li>Add a note about reporting security issues (<a href="#id210"><span class="problematic" id="id211">:issue:`697`</span></a>)</li>
<li>Add LevelDB http cache storage backend (<a href="#id212"><span class="problematic" id="id213">:issue:`626`</span></a>, <a href="#id214"><span class="problematic" id="id215">:issue:`500`</span></a>)</li>
<li>Sort spider list output of <cite>scrapy list</cite> command (<a href="#id216"><span class="problematic" id="id217">:issue:`742`</span></a>)</li>
<li>Multiple documentation enhancemens and fixes
(<a href="#id218"><span class="problematic" id="id219">:issue:`575`</span></a>, <a href="#id220"><span class="problematic" id="id221">:issue:`587`</span></a>, <a href="#id222"><span class="problematic" id="id223">:issue:`590`</span></a>, <a href="#id224"><span class="problematic" id="id225">:issue:`596`</span></a>, <a href="#id226"><span class="problematic" id="id227">:issue:`610`</span></a>,
<a href="#id228"><span class="problematic" id="id229">:issue:`617`</span></a>, <a href="#id230"><span class="problematic" id="id231">:issue:`618`</span></a>, <a href="#id232"><span class="problematic" id="id233">:issue:`627`</span></a>, <a href="#id234"><span class="problematic" id="id235">:issue:`613`</span></a>, <a href="#id236"><span class="problematic" id="id237">:issue:`643`</span></a>,
<a href="#id238"><span class="problematic" id="id239">:issue:`654`</span></a>, <a href="#id240"><span class="problematic" id="id241">:issue:`675`</span></a>, <a href="#id242"><span class="problematic" id="id243">:issue:`663`</span></a>, <a href="#id244"><span class="problematic" id="id245">:issue:`711`</span></a>, <a href="#id246"><span class="problematic" id="id247">:issue:`714`</span></a>)</li>
</ul>
</div>
<div class="section" id="bugfixes">
<h3>Bugfixes<a class="headerlink" href="#bugfixes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Encode unicode URL value when creating Links in RegexLinkExtractor (<a href="#id248"><span class="problematic" id="id249">:issue:`561`</span></a>)</li>
<li>Ignore None values in ItemLoader processors (<a href="#id250"><span class="problematic" id="id251">:issue:`556`</span></a>)</li>
<li>Fix link text when there is an inner tag in SGMLLinkExtractor and
HtmlParserLinkExtractor (<a href="#id252"><span class="problematic" id="id253">:issue:`485`</span></a>, <a href="#id254"><span class="problematic" id="id255">:issue:`574`</span></a>)</li>
<li>Fix wrong checks on subclassing of deprecated classes
(<a href="#id256"><span class="problematic" id="id257">:issue:`581`</span></a>, <a href="#id258"><span class="problematic" id="id259">:issue:`584`</span></a>)</li>
<li>Handle errors caused by inspect.stack() failures (<a href="#id260"><span class="problematic" id="id261">:issue:`582`</span></a>)</li>
<li>Fix a reference to unexistent engine attribute (<a href="#id262"><span class="problematic" id="id263">:issue:`593`</span></a>, <a href="#id264"><span class="problematic" id="id265">:issue:`594`</span></a>)</li>
<li>Fix dynamic itemclass example usage of type() (<a href="#id266"><span class="problematic" id="id267">:issue:`603`</span></a>)</li>
<li>Use lucasdemarchi/codespell to fix typos (<a href="#id268"><span class="problematic" id="id269">:issue:`628`</span></a>)</li>
<li>Fix default value of attrs argument in SgmlLinkExtractor to be tuple (<a href="#id270"><span class="problematic" id="id271">:issue:`661`</span></a>)</li>
<li>Fix XXE flaw in sitemap reader (<a href="#id272"><span class="problematic" id="id273">:issue:`676`</span></a>)</li>
<li>Fix engine to support filtered start requests (<a href="#id274"><span class="problematic" id="id275">:issue:`707`</span></a>)</li>
<li>Fix offsite middleware case on urls with no hostnames (<a href="#id276"><span class="problematic" id="id277">:issue:`745`</span></a>)</li>
<li>Testsuite doesn&#8217;t require PIL anymore (<a href="#id278"><span class="problematic" id="id279">:issue:`585`</span></a>)</li>
</ul>
</div>
</div>
<div class="section" id="released-2014-02-14">
<h2>0.22.2 (released 2014-02-14)<a class="headerlink" href="#released-2014-02-14" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>fix a reference to unexistent engine.slots. closes #593 (<a href="#id280"><span class="problematic" id="id281">:commit:`13c099a`</span></a>)</li>
<li>downloaderMW doc typo (spiderMW doc copy remnant) (<a href="#id282"><span class="problematic" id="id283">:commit:`8ae11bf`</span></a>)</li>
<li>Correct typos (<a href="#id284"><span class="problematic" id="id285">:commit:`1346037`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2014-02-08">
<h2>0.22.1 (released 2014-02-08)<a class="headerlink" href="#released-2014-02-08" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>localhost666 can resolve under certain circumstances (<a href="#id286"><span class="problematic" id="id287">:commit:`2ec2279`</span></a>)</li>
<li>test inspect.stack failure (<a href="#id288"><span class="problematic" id="id289">:commit:`cc3eda3`</span></a>)</li>
<li>Handle cases when inspect.stack() fails (<a href="#id290"><span class="problematic" id="id291">:commit:`8cb44f9`</span></a>)</li>
<li>Fix wrong checks on subclassing of deprecated classes. closes #581 (<a href="#id292"><span class="problematic" id="id293">:commit:`46d98d6`</span></a>)</li>
<li>Docs: 4-space indent for final spider example (<a href="#id294"><span class="problematic" id="id295">:commit:`13846de`</span></a>)</li>
<li>Fix HtmlParserLinkExtractor and tests after #485 merge (<a href="#id296"><span class="problematic" id="id297">:commit:`368a946`</span></a>)</li>
<li>BaseSgmlLinkExtractor: Fixed the missing space when the link has an inner tag (<a href="#id298"><span class="problematic" id="id299">:commit:`b566388`</span></a>)</li>
<li>BaseSgmlLinkExtractor: Added unit test of a link with an inner tag (<a href="#id300"><span class="problematic" id="id301">:commit:`c1cb418`</span></a>)</li>
<li>BaseSgmlLinkExtractor: Fixed unknown_endtag() so that it only set current_link=None when the end tag match the opening tag (<a href="#id302"><span class="problematic" id="id303">:commit:`7e4d627`</span></a>)</li>
<li>Fix tests for Travis-CI build (<a href="#id304"><span class="problematic" id="id305">:commit:`76c7e20`</span></a>)</li>
<li>replace unencodeable codepoints with html entities. fixes #562 and #285 (<a href="#id306"><span class="problematic" id="id307">:commit:`5f87b17`</span></a>)</li>
<li>RegexLinkExtractor: encode URL unicode value when creating Links (<a href="#id308"><span class="problematic" id="id309">:commit:`d0ee545`</span></a>)</li>
<li>Updated the tutorial crawl output with latest output. (<a href="#id310"><span class="problematic" id="id311">:commit:`8da65de`</span></a>)</li>
<li>Updated shell docs with the crawler reference and fixed the actual shell output. (<a href="#id312"><span class="problematic" id="id313">:commit:`875b9ab`</span></a>)</li>
<li>PEP8 minor edits. (<a href="#id314"><span class="problematic" id="id315">:commit:`f89efaf`</span></a>)</li>
<li>Expose current crawler in the scrapy shell. (<a href="#id316"><span class="problematic" id="id317">:commit:`5349cec`</span></a>)</li>
<li>Unused re import and PEP8 minor edits. (<a href="#id318"><span class="problematic" id="id319">:commit:`387f414`</span></a>)</li>
<li>Ignore None&#8217;s values when using the ItemLoader. (<a href="#id320"><span class="problematic" id="id321">:commit:`0632546`</span></a>)</li>
<li>DOC Fixed HTTPCACHE_STORAGE typo in the default value which is now Filesystem instead Dbm. (<a href="#id322"><span class="problematic" id="id323">:commit:`cde9a8c`</span></a>)</li>
<li>show ubuntu setup instructions as literal code (<a href="#id324"><span class="problematic" id="id325">:commit:`fb5c9c5`</span></a>)</li>
<li>Update Ubuntu installation instructions (<a href="#id326"><span class="problematic" id="id327">:commit:`70fb105`</span></a>)</li>
<li>Merge pull request #550 from stray-leone/patch-1 (<a href="#id328"><span class="problematic" id="id329">:commit:`6f70b6a`</span></a>)</li>
<li>modify the version of scrapy ubuntu package (<a href="#id330"><span class="problematic" id="id331">:commit:`725900d`</span></a>)</li>
<li>fix 0.22.0 release date (<a href="#id332"><span class="problematic" id="id333">:commit:`af0219a`</span></a>)</li>
<li>fix typos in news.rst and remove (not released yet) header (<a href="#id334"><span class="problematic" id="id335">:commit:`b7f58f4`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2014-01-17">
<h2>0.22.0 (released 2014-01-17)<a class="headerlink" href="#released-2014-01-17" title="永久链接至标题">¶</a></h2>
<div class="section" id="id336">
<h3>Enhancements<a class="headerlink" href="#id336" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>[<strong>Backwards incompatible</strong>] Switched HTTPCacheMiddleware backend to filesystem (<a href="#id337"><span class="problematic" id="id338">:issue:`541`</span></a>)
To restore old backend set <cite>HTTPCACHE_STORAGE</cite> to <cite>scrapy.contrib.httpcache.DbmCacheStorage</cite></li>
<li>Proxy https:// urls using CONNECT method (<a href="#id339"><span class="problematic" id="id340">:issue:`392`</span></a>, <a href="#id341"><span class="problematic" id="id342">:issue:`397`</span></a>)</li>
<li>Add a middleware to crawl ajax crawleable pages as defined by google (<a href="#id343"><span class="problematic" id="id344">:issue:`343`</span></a>)</li>
<li>Rename scrapy.spider.BaseSpider to scrapy.spider.Spider (<a href="#id345"><span class="problematic" id="id346">:issue:`510`</span></a>, <a href="#id347"><span class="problematic" id="id348">:issue:`519`</span></a>)</li>
<li>Selectors register EXSLT namespaces by default (<a href="#id349"><span class="problematic" id="id350">:issue:`472`</span></a>)</li>
<li>Unify item loaders similar to selectors renaming (<a href="#id351"><span class="problematic" id="id352">:issue:`461`</span></a>)</li>
<li>Make <cite>RFPDupeFilter</cite> class easily subclassable (<a href="#id353"><span class="problematic" id="id354">:issue:`533`</span></a>)</li>
<li>Improve test coverage and forthcoming Python 3 support (<a href="#id355"><span class="problematic" id="id356">:issue:`525`</span></a>)</li>
<li>Promote startup info on settings and middleware to INFO level (<a href="#id357"><span class="problematic" id="id358">:issue:`520`</span></a>)</li>
<li>Support partials in <cite>get_func_args</cite> util (<a href="#id359"><span class="problematic" id="id360">:issue:`506`</span></a>, issue:<cite>504</cite>)</li>
<li>Allow running indiviual tests via tox (<a href="#id361"><span class="problematic" id="id362">:issue:`503`</span></a>)</li>
<li>Update extensions ignored by link extractors (<a href="#id363"><span class="problematic" id="id364">:issue:`498`</span></a>)</li>
<li>Add middleware methods to get files/images/thumbs paths (<a href="#id365"><span class="problematic" id="id366">:issue:`490`</span></a>)</li>
<li>Improve offsite middleware tests (<a href="#id367"><span class="problematic" id="id368">:issue:`478`</span></a>)</li>
<li>Add a way to skip default Referer header set by RefererMiddleware (<a href="#id369"><span class="problematic" id="id370">:issue:`475`</span></a>)</li>
<li>Do not send <cite>x-gzip</cite> in default <cite>Accept-Encoding</cite> header (<a href="#id371"><span class="problematic" id="id372">:issue:`469`</span></a>)</li>
<li>Support defining http error handling using settings (<a href="#id373"><span class="problematic" id="id374">:issue:`466`</span></a>)</li>
<li>Use modern python idioms wherever you find legacies (<a href="#id375"><span class="problematic" id="id376">:issue:`497`</span></a>)</li>
<li>Improve and correct documentation
(<a href="#id377"><span class="problematic" id="id378">:issue:`527`</span></a>, <a href="#id379"><span class="problematic" id="id380">:issue:`524`</span></a>, <a href="#id381"><span class="problematic" id="id382">:issue:`521`</span></a>, <a href="#id383"><span class="problematic" id="id384">:issue:`517`</span></a>, <a href="#id385"><span class="problematic" id="id386">:issue:`512`</span></a>, <a href="#id387"><span class="problematic" id="id388">:issue:`505`</span></a>,
<a href="#id389"><span class="problematic" id="id390">:issue:`502`</span></a>, <a href="#id391"><span class="problematic" id="id392">:issue:`489`</span></a>, <a href="#id393"><span class="problematic" id="id394">:issue:`465`</span></a>, <a href="#id395"><span class="problematic" id="id396">:issue:`460`</span></a>, <a href="#id397"><span class="problematic" id="id398">:issue:`425`</span></a>, <a href="#id399"><span class="problematic" id="id400">:issue:`536`</span></a>)</li>
</ul>
</div>
<div class="section" id="fixes">
<h3>Fixes<a class="headerlink" href="#fixes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Update Selector class imports in CrawlSpider template (<a href="#id401"><span class="problematic" id="id402">:issue:`484`</span></a>)</li>
<li>Fix unexistent reference to <cite>engine.slots</cite> (<a href="#id403"><span class="problematic" id="id404">:issue:`464`</span></a>)</li>
<li>Do not try to call <cite>body_as_unicode()</cite> on a non-TextResponse instance (<a href="#id405"><span class="problematic" id="id406">:issue:`462`</span></a>)</li>
<li>Warn when subclassing XPathItemLoader, previously it only warned on
instantiation. (<a href="#id407"><span class="problematic" id="id408">:issue:`523`</span></a>)</li>
<li>Warn when subclassing XPathSelector, previously it only warned on
instantiation. (<a href="#id409"><span class="problematic" id="id410">:issue:`537`</span></a>)</li>
<li>Multiple fixes to memory stats (<a href="#id411"><span class="problematic" id="id412">:issue:`531`</span></a>, <a href="#id413"><span class="problematic" id="id414">:issue:`530`</span></a>, <a href="#id415"><span class="problematic" id="id416">:issue:`529`</span></a>)</li>
<li>Fix overriding url in <cite>FormRequest.from_response()</cite> (<a href="#id417"><span class="problematic" id="id418">:issue:`507`</span></a>)</li>
<li>Fix tests runner under pip 1.5 (<a href="#id419"><span class="problematic" id="id420">:issue:`513`</span></a>)</li>
<li>Fix logging error when spider name is unicode (<a href="#id421"><span class="problematic" id="id422">:issue:`479`</span></a>)</li>
</ul>
</div>
</div>
<div class="section" id="released-2013-12-09">
<h2>0.20.2 (released 2013-12-09)<a class="headerlink" href="#released-2013-12-09" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Update CrawlSpider Template with Selector changes (<a href="#id423"><span class="problematic" id="id424">:commit:`6d1457d`</span></a>)</li>
<li>fix method name in tutorial. closes GH-480 (<a href="#id425"><span class="problematic" id="id426">:commit:`b4fc359`</span></a></li>
</ul>
</div>
<div class="section" id="released-2013-11-28">
<h2>0.20.1 (released 2013-11-28)<a class="headerlink" href="#released-2013-11-28" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>include_package_data is required to build wheels from published sources (<a href="#id427"><span class="problematic" id="id428">:commit:`5ba1ad5`</span></a>)</li>
<li>process_parallel was leaking the failures on its internal deferreds.  closes #458 (<a href="#id429"><span class="problematic" id="id430">:commit:`419a780`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-11-08">
<h2>0.20.0 (released 2013-11-08)<a class="headerlink" href="#released-2013-11-08" title="永久链接至标题">¶</a></h2>
<div class="section" id="id431">
<h3>Enhancements<a class="headerlink" href="#id431" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>New Selector&#8217;s API including CSS selectors (<a href="#id432"><span class="problematic" id="id433">:issue:`395`</span></a> and <a href="#id434"><span class="problematic" id="id435">:issue:`426`</span></a>),</li>
<li>Request/Response url/body attributes are now immutable
(modifying them had been deprecated for a long time)</li>
<li><a href="#id436"><span class="problematic" id="id437">:setting:`ITEM_PIPELINES`</span></a> is now defined as a dict (instead of a list)</li>
<li>Sitemap spider can fetch alternate URLs (<a href="#id438"><span class="problematic" id="id439">:issue:`360`</span></a>)</li>
<li><cite>Selector.remove_namespaces()</cite> now remove namespaces from element&#8217;s attributes. (<a href="#id440"><span class="problematic" id="id441">:issue:`416`</span></a>)</li>
<li>Paved the road for Python 3.3+ (<a href="#id442"><span class="problematic" id="id443">:issue:`435`</span></a>, <a href="#id444"><span class="problematic" id="id445">:issue:`436`</span></a>, <a href="#id446"><span class="problematic" id="id447">:issue:`431`</span></a>, <a href="#id448"><span class="problematic" id="id449">:issue:`452`</span></a>)</li>
<li>New item exporter using native python types with nesting support (<a href="#id450"><span class="problematic" id="id451">:issue:`366`</span></a>)</li>
<li>Tune HTTP1.1 pool size so it matches concurrency defined by settings (<a href="#id452"><span class="problematic" id="id453">:commit:`b43b5f575`</span></a>)</li>
<li>scrapy.mail.MailSender now can connect over TLS or upgrade using STARTTLS (<a href="#id454"><span class="problematic" id="id455">:issue:`327`</span></a>)</li>
<li>New FilesPipeline with functionality factored out from ImagesPipeline (<a href="#id456"><span class="problematic" id="id457">:issue:`370`</span></a>, <a href="#id458"><span class="problematic" id="id459">:issue:`409`</span></a>)</li>
<li>Recommend Pillow instead of PIL for image handling (<a href="#id460"><span class="problematic" id="id461">:issue:`317`</span></a>)</li>
<li>Added debian packages for Ubuntu quantal and raring (<a href="#id462"><span class="problematic" id="id463">:commit:`86230c0`</span></a>)</li>
<li>Mock server (used for tests) can listen for HTTPS requests (<a href="#id464"><span class="problematic" id="id465">:issue:`410`</span></a>)</li>
<li>Remove multi spider support from multiple core components
(<a href="#id466"><span class="problematic" id="id467">:issue:`422`</span></a>, <a href="#id468"><span class="problematic" id="id469">:issue:`421`</span></a>, <a href="#id470"><span class="problematic" id="id471">:issue:`420`</span></a>, <a href="#id472"><span class="problematic" id="id473">:issue:`419`</span></a>, <a href="#id474"><span class="problematic" id="id475">:issue:`423`</span></a>, <a href="#id476"><span class="problematic" id="id477">:issue:`418`</span></a>)</li>
<li>Travis-CI now tests Scrapy changes against development versions of <cite>w3lib</cite> and <cite>queuelib</cite> python packages.</li>
<li>Add pypy 2.1 to continuous integration tests (<a href="#id478"><span class="problematic" id="id479">:commit:`ecfa7431`</span></a>)</li>
<li>Pylinted, pep8 and removed old-style exceptions from source (<a href="#id480"><span class="problematic" id="id481">:issue:`430`</span></a>, <a href="#id482"><span class="problematic" id="id483">:issue:`432`</span></a>)</li>
<li>Use importlib for parametric imports (<a href="#id484"><span class="problematic" id="id485">:issue:`445`</span></a>)</li>
<li>Handle a regression introduced in Python 2.7.5 that affects XmlItemExporter (<a href="#id486"><span class="problematic" id="id487">:issue:`372`</span></a>)</li>
<li>Bugfix crawling shutdown on SIGINT (<a href="#id488"><span class="problematic" id="id489">:issue:`450`</span></a>)</li>
<li>Do not submit <cite>reset</cite> type inputs in FormRequest.from_response (<a href="#id490"><span class="problematic" id="id491">:commit:`b326b87`</span></a>)</li>
<li>Do not silence download errors when request errback raises an exception (<a href="#id492"><span class="problematic" id="id493">:commit:`684cfc0`</span></a>)</li>
</ul>
</div>
<div class="section" id="id494">
<h3>Bugfixes<a class="headerlink" href="#id494" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Fix tests under Django 1.6 (<a href="#id495"><span class="problematic" id="id496">:commit:`b6bed44c`</span></a>)</li>
<li>Lot of bugfixes to retry middleware under disconnections using HTTP 1.1 download handler</li>
<li>Fix inconsistencies among Twisted releases (<a href="#id497"><span class="problematic" id="id498">:issue:`406`</span></a>)</li>
<li>Fix scrapy shell bugs (<a href="#id499"><span class="problematic" id="id500">:issue:`418`</span></a>, <a href="#id501"><span class="problematic" id="id502">:issue:`407`</span></a>)</li>
<li>Fix invalid variable name in setup.py (<a href="#id503"><span class="problematic" id="id504">:issue:`429`</span></a>)</li>
<li>Fix tutorial references (<a href="#id505"><span class="problematic" id="id506">:issue:`387`</span></a>)</li>
<li>Improve request-response docs (<a href="#id507"><span class="problematic" id="id508">:issue:`391`</span></a>)</li>
<li>Improve best practices docs (<a href="#id509"><span class="problematic" id="id510">:issue:`399`</span></a>, <a href="#id511"><span class="problematic" id="id512">:issue:`400`</span></a>, <a href="#id513"><span class="problematic" id="id514">:issue:`401`</span></a>, <a href="#id515"><span class="problematic" id="id516">:issue:`402`</span></a>)</li>
<li>Improve django integration docs (<a href="#id517"><span class="problematic" id="id518">:issue:`404`</span></a>)</li>
<li>Document <cite>bindaddress</cite> request meta (<a href="#id519"><span class="problematic" id="id520">:commit:`37c24e01d7`</span></a>)</li>
<li>Improve <cite>Request</cite> class documentation (<a href="#id521"><span class="problematic" id="id522">:issue:`226`</span></a>)</li>
</ul>
</div>
<div class="section" id="other">
<h3>Other<a class="headerlink" href="#other" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Dropped Python 2.6 support (<a href="#id523"><span class="problematic" id="id524">:issue:`448`</span></a>)</li>
<li>Add <a class="reference external" href="https://github.com/SimonSapin/cssselect">cssselect</a> python package as install dependency</li>
<li>Drop libxml2 and multi selector&#8217;s backend support, <a class="reference external" href="http://lxml.de/">lxml</a> is required from now on.</li>
<li>Minimum Twisted version increased to 10.0.0, dropped Twisted 8.0 support.</li>
<li>Running test suite now requires <cite>mock</cite> python library (<a href="#id525"><span class="problematic" id="id526">:issue:`390`</span></a>)</li>
</ul>
</div>
<div class="section" id="thanks">
<h3>Thanks<a class="headerlink" href="#thanks" title="永久链接至标题">¶</a></h3>
<p>Thanks to everyone who contribute to this release!</p>
<p>List of contributors sorted by number of commits:</p>
<div class="highlight-python"><div class="highlight"><pre>69 Daniel Graña &lt;dangra@...&gt;
37 Pablo Hoffman &lt;pablo@...&gt;
13 Mikhail Korobov &lt;kmike84@...&gt;
 9 Alex Cepoi &lt;alex.cepoi@...&gt;
 9 alexanderlukanin13 &lt;alexander.lukanin.13@...&gt;
 8 Rolando Espinoza La fuente &lt;darkrho@...&gt;
 8 Lukasz Biedrycki &lt;lukasz.biedrycki@...&gt;
 6 Nicolas Ramirez &lt;nramirez.uy@...&gt;
 3 Paul Tremberth &lt;paul.tremberth@...&gt;
 2 Martin Olveyra &lt;molveyra@...&gt;
 2 Stefan &lt;misc@...&gt;
 2 Rolando Espinoza &lt;darkrho@...&gt;
 2 Loren Davie &lt;loren@...&gt;
 2 irgmedeiros &lt;irgmedeiros@...&gt;
 1 Stefan Koch &lt;taikano@...&gt;
 1 Stefan &lt;cct@...&gt;
 1 scraperdragon &lt;dragon@...&gt;
 1 Kumara Tharmalingam &lt;ktharmal@...&gt;
 1 Francesco Piccinno &lt;stack.box@...&gt;
 1 Marcos Campal &lt;duendex@...&gt;
 1 Dragon Dave &lt;dragon@...&gt;
 1 Capi Etheriel &lt;barraponto@...&gt;
 1 cacovsky &lt;amarquesferraz@...&gt;
 1 Berend Iwema &lt;berend@...&gt;
</pre></div>
</div>
</div>
</div>
<div class="section" id="released-2013-10-10">
<h2>0.18.4 (released 2013-10-10)<a class="headerlink" href="#released-2013-10-10" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>IPython refuses to update the namespace. fix #396 (<a href="#id527"><span class="problematic" id="id528">:commit:`3d32c4f`</span></a>)</li>
<li>Fix AlreadyCalledError replacing a request in shell command. closes #407 (<a href="#id529"><span class="problematic" id="id530">:commit:`b1d8919`</span></a>)</li>
<li>Fix start_requests laziness and early hangs (<a href="#id531"><span class="problematic" id="id532">:commit:`89faf52`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-10-03">
<h2>0.18.3 (released 2013-10-03)<a class="headerlink" href="#released-2013-10-03" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>fix regression on lazy evaluation of start requests (<a href="#id533"><span class="problematic" id="id534">:commit:`12693a5`</span></a>)</li>
<li>forms: do not submit reset inputs (<a href="#id535"><span class="problematic" id="id536">:commit:`e429f63`</span></a>)</li>
<li>increase unittest timeouts to decrease travis false positive failures (<a href="#id537"><span class="problematic" id="id538">:commit:`912202e`</span></a>)</li>
<li>backport master fixes to json exporter (<a href="#id539"><span class="problematic" id="id540">:commit:`cfc2d46`</span></a>)</li>
<li>Fix permission and set umask before generating sdist tarball (<a href="#id541"><span class="problematic" id="id542">:commit:`06149e0`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-09-03">
<h2>0.18.2 (released 2013-09-03)<a class="headerlink" href="#released-2013-09-03" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Backport <cite>scrapy check</cite> command fixes and backward compatible multi
crawler process(<a href="#id543"><span class="problematic" id="id544">:issue:`339`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-08-27">
<h2>0.18.1 (released 2013-08-27)<a class="headerlink" href="#released-2013-08-27" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>remove extra import added by cherry picked changes (<a href="#id545"><span class="problematic" id="id546">:commit:`d20304e`</span></a>)</li>
<li>fix crawling tests under twisted pre 11.0.0 (<a href="#id547"><span class="problematic" id="id548">:commit:`1994f38`</span></a>)</li>
<li>py26 can not format zero length fields {} (<a href="#id549"><span class="problematic" id="id550">:commit:`abf756f`</span></a>)</li>
<li>test PotentiaDataLoss errors on unbound responses (<a href="#id551"><span class="problematic" id="id552">:commit:`b15470d`</span></a>)</li>
<li>Treat responses without content-length or Transfer-Encoding as good responses (<a href="#id553"><span class="problematic" id="id554">:commit:`c4bf324`</span></a>)</li>
<li>do no include ResponseFailed if http11 handler is not enabled (<a href="#id555"><span class="problematic" id="id556">:commit:`6cbe684`</span></a>)</li>
<li>New HTTP client wraps connection losts in ResponseFailed exception. fix #373 (<a href="#id557"><span class="problematic" id="id558">:commit:`1a20bba`</span></a>)</li>
<li>limit travis-ci build matrix (<a href="#id559"><span class="problematic" id="id560">:commit:`3b01bb8`</span></a>)</li>
<li>Merge pull request #375 from peterarenot/patch-1 (<a href="#id561"><span class="problematic" id="id562">:commit:`fa766d7`</span></a>)</li>
<li>Fixed so it refers to the correct folder (<a href="#id563"><span class="problematic" id="id564">:commit:`3283809`</span></a>)</li>
<li>added quantal &amp; raring to support ubuntu releases (<a href="#id565"><span class="problematic" id="id566">:commit:`1411923`</span></a>)</li>
<li>fix retry middleware which didn&#8217;t retry certain connection errors after the upgrade to http1 client, closes GH-373 (<a href="#id567"><span class="problematic" id="id568">:commit:`bb35ed0`</span></a>)</li>
<li>fix XmlItemExporter in Python 2.7.4 and 2.7.5 (<a href="#id569"><span class="problematic" id="id570">:commit:`de3e451`</span></a>)</li>
<li>minor updates to 0.18 release notes (<a href="#id571"><span class="problematic" id="id572">:commit:`c45e5f1`</span></a>)</li>
<li>fix contributters list format (<a href="#id573"><span class="problematic" id="id574">:commit:`0b60031`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-08-09">
<h2>0.18.0 (released 2013-08-09)<a class="headerlink" href="#released-2013-08-09" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Lot of improvements to testsuite run using Tox, including a way to test on pypi</li>
<li>Handle GET parameters for AJAX crawleable urls (<a href="#id575"><span class="problematic" id="id576">:commit:`3fe2a32`</span></a>)</li>
<li>Use lxml recover option to parse sitemaps (<a href="#id577"><span class="problematic" id="id578">:issue:`347`</span></a>)</li>
<li>Bugfix cookie merging by hostname and not by netloc (<a href="#id579"><span class="problematic" id="id580">:issue:`352`</span></a>)</li>
<li>Support disabling <cite>HttpCompressionMiddleware</cite> using a flag setting (<a href="#id581"><span class="problematic" id="id582">:issue:`359`</span></a>)</li>
<li>Support xml namespaces using <cite>iternodes</cite> parser in <cite>XMLFeedSpider</cite> (<a href="#id583"><span class="problematic" id="id584">:issue:`12`</span></a>)</li>
<li>Support <cite>dont_cache</cite> request meta flag (<a href="#id585"><span class="problematic" id="id586">:issue:`19`</span></a>)</li>
<li>Bugfix <cite>scrapy.utils.gz.gunzip</cite> broken by changes in python 2.7.4 (<a href="#id587"><span class="problematic" id="id588">:commit:`4dc76e`</span></a>)</li>
<li>Bugfix url encoding on <cite>SgmlLinkExtractor</cite> (<a href="#id589"><span class="problematic" id="id590">:issue:`24`</span></a>)</li>
<li>Bugfix <cite>TakeFirst</cite> processor shouldn&#8217;t discard zero (0) value (<a href="#id591"><span class="problematic" id="id592">:issue:`59`</span></a>)</li>
<li>Support nested items in xml exporter (<a href="#id593"><span class="problematic" id="id594">:issue:`66`</span></a>)</li>
<li>Improve cookies handling performance (<a href="#id595"><span class="problematic" id="id596">:issue:`77`</span></a>)</li>
<li>Log dupe filtered requests once (<a href="#id597"><span class="problematic" id="id598">:issue:`105`</span></a>)</li>
<li>Split redirection middleware into status and meta based middlewares (<a href="#id599"><span class="problematic" id="id600">:issue:`78`</span></a>)</li>
<li>Use HTTP1.1 as default downloader handler (<a href="#id601"><span class="problematic" id="id602">:issue:`109`</span></a> and <a href="#id603"><span class="problematic" id="id604">:issue:`318`</span></a>)</li>
<li>Support xpath form selection on <cite>FormRequest.from_response</cite> (<a href="#id605"><span class="problematic" id="id606">:issue:`185`</span></a>)</li>
<li>Bugfix unicode decoding error on <cite>SgmlLinkExtractor</cite> (<a href="#id607"><span class="problematic" id="id608">:issue:`199`</span></a>)</li>
<li>Bugfix signal dispatching on pypi interpreter (<a href="#id609"><span class="problematic" id="id610">:issue:`205`</span></a>)</li>
<li>Improve request delay and concurrency handling (<a href="#id611"><span class="problematic" id="id612">:issue:`206`</span></a>)</li>
<li>Add RFC2616 cache policy to <cite>HttpCacheMiddleware</cite> (<a href="#id613"><span class="problematic" id="id614">:issue:`212`</span></a>)</li>
<li>Allow customization of messages logged by engine (<a href="#id615"><span class="problematic" id="id616">:issue:`214`</span></a>)</li>
<li>Multiples improvements to <cite>DjangoItem</cite> (<a href="#id617"><span class="problematic" id="id618">:issue:`217`</span></a>, <a href="#id619"><span class="problematic" id="id620">:issue:`218`</span></a>, <a href="#id621"><span class="problematic" id="id622">:issue:`221`</span></a>)</li>
<li>Extend Scrapy commands using setuptools entry points (<a href="#id623"><span class="problematic" id="id624">:issue:`260`</span></a>)</li>
<li>Allow spider <cite>allowed_domains</cite> value to be set/tuple (<a href="#id625"><span class="problematic" id="id626">:issue:`261`</span></a>)</li>
<li>Support <cite>settings.getdict</cite> (<a href="#id627"><span class="problematic" id="id628">:issue:`269`</span></a>)</li>
<li>Simplify internal <cite>scrapy.core.scraper</cite> slot handling (<a href="#id629"><span class="problematic" id="id630">:issue:`271`</span></a>)</li>
<li>Added <cite>Item.copy</cite> (<a href="#id631"><span class="problematic" id="id632">:issue:`290`</span></a>)</li>
<li>Collect idle downloader slots (<a href="#id633"><span class="problematic" id="id634">:issue:`297`</span></a>)</li>
<li>Add <cite>ftp://</cite> scheme downloader handler (<a href="#id635"><span class="problematic" id="id636">:issue:`329`</span></a>)</li>
<li>Added downloader benchmark webserver and spider tools <a class="reference internal" href="topics/benchmarking.html#benchmarking"><span>Benchmarking</span></a></li>
<li>Moved persistent (on disk) queues to a separate project (<a class="reference external" href="https://github.com/scrapy/queuelib">queuelib</a>) which scrapy now depends on</li>
<li>Add scrapy commands using external libraries (<a href="#id637"><span class="problematic" id="id638">:issue:`260`</span></a>)</li>
<li>Added <code class="docutils literal"><span class="pre">--pdb</span></code> option to <code class="docutils literal"><span class="pre">scrapy</span></code> command line tool</li>
<li>Added <code class="xref py py-meth docutils literal"><span class="pre">XPathSelector.remove_namespaces()</span></code> which allows to remove all namespaces from XML documents for convenience (to work with namespace-less XPaths). Documented in <a class="reference internal" href="topics/selectors.html#topics-selectors"><span>选择器(Selectors)</span></a>.</li>
<li>Several improvements to spider contracts</li>
<li>New default middleware named MetaRefreshMiddldeware that handles meta-refresh html tag redirections,</li>
<li>MetaRefreshMiddldeware and RedirectMiddleware have different priorities to address #62</li>
<li>added from_crawler method to spiders</li>
<li>added system tests with mock server</li>
<li>more improvements to Mac OS compatibility (thanks Alex Cepoi)</li>
<li>several more cleanups to singletons and multi-spider support (thanks Nicolas Ramirez)</li>
<li>support custom download slots</li>
<li>added &#8211;spider option to &#8220;shell&#8221; command.</li>
<li>log overridden settings when scrapy starts</li>
</ul>
<p>Thanks to everyone who contribute to this release. Here is a list of
contributors sorted by number of commits:</p>
<div class="highlight-python"><div class="highlight"><pre>130 Pablo Hoffman &lt;pablo@...&gt;
 97 Daniel Graña &lt;dangra@...&gt;
 20 Nicolás Ramírez &lt;nramirez.uy@...&gt;
 13 Mikhail Korobov &lt;kmike84@...&gt;
 12 Pedro Faustino &lt;pedrobandim@...&gt;
 11 Steven Almeroth &lt;sroth77@...&gt;
  5 Rolando Espinoza La fuente &lt;darkrho@...&gt;
  4 Michal Danilak &lt;mimino.coder@...&gt;
  4 Alex Cepoi &lt;alex.cepoi@...&gt;
  4 Alexandr N Zamaraev (aka tonal) &lt;tonal@...&gt;
  3 paul &lt;paul.tremberth@...&gt;
  3 Martin Olveyra &lt;molveyra@...&gt;
  3 Jordi Llonch &lt;llonchj@...&gt;
  3 arijitchakraborty &lt;myself.arijit@...&gt;
  2 Shane Evans &lt;shane.evans@...&gt;
  2 joehillen &lt;joehillen@...&gt;
  2 Hart &lt;HartSimha@...&gt;
  2 Dan &lt;ellisd23@...&gt;
  1 Zuhao Wan &lt;wanzuhao@...&gt;
  1 whodatninja &lt;blake@...&gt;
  1 vkrest &lt;v.krestiannykov@...&gt;
  1 tpeng &lt;pengtaoo@...&gt;
  1 Tom Mortimer-Jones &lt;tom@...&gt;
  1 Rocio Aramberri &lt;roschegel@...&gt;
  1 Pedro &lt;pedro@...&gt;
  1 notsobad &lt;wangxiaohugg@...&gt;
  1 Natan L &lt;kuyanatan.nlao@...&gt;
  1 Mark Grey &lt;mark.grey@...&gt;
  1 Luan &lt;luanpab@...&gt;
  1 Libor Nenadál &lt;libor.nenadal@...&gt;
  1 Juan M Uys &lt;opyate@...&gt;
  1 Jonas Brunsgaard &lt;jonas.brunsgaard@...&gt;
  1 Ilya Baryshev &lt;baryshev@...&gt;
  1 Hasnain Lakhani &lt;m.hasnain.lakhani@...&gt;
  1 Emanuel Schorsch &lt;emschorsch@...&gt;
  1 Chris Tilden &lt;chris.tilden@...&gt;
  1 Capi Etheriel &lt;barraponto@...&gt;
  1 cacovsky &lt;amarquesferraz@...&gt;
  1 Berend Iwema &lt;berend@...&gt;
</pre></div>
</div>
</div>
<div class="section" id="released-2013-05-30">
<h2>0.16.5 (released 2013-05-30)<a class="headerlink" href="#released-2013-05-30" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>obey request method when scrapy deploy is redirected to a new endpoint (<a href="#id639"><span class="problematic" id="id640">:commit:`8c4fcee`</span></a>)</li>
<li>fix inaccurate downloader middleware documentation. refs #280 (<a href="#id641"><span class="problematic" id="id642">:commit:`40667cb`</span></a>)</li>
<li>doc: remove links to diveintopython.org, which is no longer available. closes #246 (<a href="#id643"><span class="problematic" id="id644">:commit:`bd58bfa`</span></a>)</li>
<li>Find form nodes in invalid html5 documents (<a href="#id645"><span class="problematic" id="id646">:commit:`e3d6945`</span></a>)</li>
<li>Fix typo labeling attrs type bool instead of list (<a href="#id647"><span class="problematic" id="id648">:commit:`a274276`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2013-01-23">
<h2>0.16.4 (released 2013-01-23)<a class="headerlink" href="#released-2013-01-23" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>fixes spelling errors in documentation (<a href="#id649"><span class="problematic" id="id650">:commit:`6d2b3aa`</span></a>)</li>
<li>add doc about disabling an extension. refs #132 (<a href="#id651"><span class="problematic" id="id652">:commit:`c90de33`</span></a>)</li>
<li>Fixed error message formatting. log.err() doesn&#8217;t support cool formatting and when error occurred, the message was:    &#8220;ERROR: Error processing %(item)s&#8221; (<a href="#id653"><span class="problematic" id="id654">:commit:`c16150c`</span></a>)</li>
<li>lint and improve images pipeline error logging (<a href="#id655"><span class="problematic" id="id656">:commit:`56b45fc`</span></a>)</li>
<li>fixed doc typos (<a href="#id657"><span class="problematic" id="id658">:commit:`243be84`</span></a>)</li>
<li>add documentation topics: Broad Crawls &amp; Common Practies (<a href="#id659"><span class="problematic" id="id660">:commit:`1fbb715`</span></a>)</li>
<li>fix bug in scrapy parse command when spider is not specified explicitly. closes #209 (<a href="#id661"><span class="problematic" id="id662">:commit:`c72e682`</span></a>)</li>
<li>Update docs/topics/commands.rst (<a href="#id663"><span class="problematic" id="id664">:commit:`28eac7a`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2012-12-07">
<h2>0.16.3 (released 2012-12-07)<a class="headerlink" href="#released-2012-12-07" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>Remove concurrency limitation when using download delays and still ensure inter-request delays are enforced (<a href="#id665"><span class="problematic" id="id666">:commit:`487b9b5`</span></a>)</li>
<li>add error details when image pipeline fails (<a href="#id667"><span class="problematic" id="id668">:commit:`8232569`</span></a>)</li>
<li>improve mac os compatibility (<a href="#id669"><span class="problematic" id="id670">:commit:`8dcf8aa`</span></a>)</li>
<li>setup.py: use README.rst to populate long_description (<a href="#id671"><span class="problematic" id="id672">:commit:`7b5310d`</span></a>)</li>
<li>doc: removed obsolete references to ClientForm (<a href="#id673"><span class="problematic" id="id674">:commit:`80f9bb6`</span></a>)</li>
<li>correct docs for default storage backend (<a href="#id675"><span class="problematic" id="id676">:commit:`2aa491b`</span></a>)</li>
<li>doc: removed broken proxyhub link from FAQ (<a href="#id677"><span class="problematic" id="id678">:commit:`bdf61c4`</span></a>)</li>
<li>Fixed docs typo in SpiderOpenCloseLogging example (<a href="#id679"><span class="problematic" id="id680">:commit:`7184094`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2012-11-09">
<h2>0.16.2 (released 2012-11-09)<a class="headerlink" href="#released-2012-11-09" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>scrapy contracts: python2.6 compat (<a href="#id681"><span class="problematic" id="id682">:commit:`a4a9199`</span></a>)</li>
<li>scrapy contracts verbose option (<a href="#id683"><span class="problematic" id="id684">:commit:`ec41673`</span></a>)</li>
<li>proper unittest-like output for scrapy contracts (<a href="#id685"><span class="problematic" id="id686">:commit:`86635e4`</span></a>)</li>
<li>added open_in_browser to debugging doc (<a href="#id687"><span class="problematic" id="id688">:commit:`c9b690d`</span></a>)</li>
<li>removed reference to global scrapy stats from settings doc (<a href="#id689"><span class="problematic" id="id690">:commit:`dd55067`</span></a>)</li>
<li>Fix SpiderState bug in Windows platforms (<a href="#id691"><span class="problematic" id="id692">:commit:`58998f4`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2012-10-26">
<h2>0.16.1 (released 2012-10-26)<a class="headerlink" href="#released-2012-10-26" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>fixed LogStats extension, which got broken after a wrong merge before the 0.16 release (<a href="#id693"><span class="problematic" id="id694">:commit:`8c780fd`</span></a>)</li>
<li>better backwards compatibility for scrapy.conf.settings (<a href="#id695"><span class="problematic" id="id696">:commit:`3403089`</span></a>)</li>
<li>extended documentation on how to access crawler stats from extensions (<a href="#id697"><span class="problematic" id="id698">:commit:`c4da0b5`</span></a>)</li>
<li>removed .hgtags (no longer needed now that scrapy uses git) (<a href="#id699"><span class="problematic" id="id700">:commit:`d52c188`</span></a>)</li>
<li>fix dashes under rst headers (<a href="#id701"><span class="problematic" id="id702">:commit:`fa4f7f9`</span></a>)</li>
<li>set release date for 0.16.0 in news (<a href="#id703"><span class="problematic" id="id704">:commit:`e292246`</span></a>)</li>
</ul>
</div>
<div class="section" id="released-2012-10-18">
<h2>0.16.0 (released 2012-10-18)<a class="headerlink" href="#released-2012-10-18" title="永久链接至标题">¶</a></h2>
<p>Scrapy changes:</p>
<ul class="simple">
<li>added <a class="reference internal" href="topics/contracts.html#topics-contracts"><span>Spiders Contracts</span></a>, a mechanism for testing spiders in a formal/reproducible way</li>
<li>added options <code class="docutils literal"><span class="pre">-o</span></code> and <code class="docutils literal"><span class="pre">-t</span></code> to the <strong class="command">runspider</strong> command</li>
<li>documented <a class="reference internal" href="topics/autothrottle.html"><em>自动限速(AutoThrottle)扩展</em></a> and added to extensions installed by default. You still need to enable it with <a href="#id705"><span class="problematic" id="id706">:setting:`AUTOTHROTTLE_ENABLED`</span></a></li>
<li>major Stats Collection refactoring: removed separation of global/per-spider stats, removed stats-related signals (<code class="docutils literal"><span class="pre">stats_spider_opened</span></code>, etc). Stats are much simpler now, backwards compatibility is kept on the Stats Collector API and signals.</li>
<li>added <a class="reference internal" href="topics/spider-middleware.html#scrapy.contrib.spidermiddleware.SpiderMiddleware.process_start_requests" title="scrapy.contrib.spidermiddleware.SpiderMiddleware.process_start_requests"><code class="xref py py-meth docutils literal"><span class="pre">process_start_requests()</span></code></a> method to spider middlewares</li>
<li>dropped Signals singleton. Signals should now be accesed through the Crawler.signals attribute. See the signals documentation for more info.</li>
<li>dropped Signals singleton. Signals should now be accesed through the Crawler.signals attribute. See the signals documentation for more info.</li>
<li>dropped Stats Collector singleton. Stats can now be accessed through the Crawler.stats attribute. See the stats collection documentation for more info.</li>
<li>documented <a class="reference internal" href="topics/api.html#topics-api"><span>核心API</span></a></li>
<li><cite>lxml</cite> is now the default selectors backend instead of <cite>libxml2</cite></li>
<li>ported FormRequest.from_response() to use <a class="reference external" href="http://lxml.de/">lxml</a> instead of <a class="reference external" href="http://wwwsearch.sourceforge.net/old/ClientForm/">ClientForm</a></li>
<li>removed modules: <code class="docutils literal"><span class="pre">scrapy.xlib.BeautifulSoup</span></code> and <code class="docutils literal"><span class="pre">scrapy.xlib.ClientForm</span></code></li>
<li>SitemapSpider: added support for sitemap urls ending in .xml and .xml.gz, even if they advertise a wrong content type (<a href="#id707"><span class="problematic" id="id708">:commit:`10ed28b`</span></a>)</li>
<li>StackTraceDump extension: also dump trackref live references (<a href="#id709"><span class="problematic" id="id710">:commit:`fe2ce93`</span></a>)</li>
<li>nested items now fully supported in JSON and JSONLines exporters</li>
<li>added <a href="#id711"><span class="problematic" id="id712">:reqmeta:`cookiejar`</span></a> Request meta key to support multiple cookie sessions per spider</li>
<li>decoupled encoding detection code to <a class="reference external" href="https://github.com/scrapy/w3lib/blob/master/w3lib/encoding.py">w3lib.encoding</a>, and ported Scrapy code to use that mdule</li>
<li>dropped support for Python 2.5. See <a class="reference external" href="http://blog.scrapinghub.com/2012/02/27/scrapy-0-15-dropping-support-for-python-2-5/">http://blog.scrapinghub.com/2012/02/27/scrapy-0-15-dropping-support-for-python-2-5/</a></li>
<li>dropped support for Twisted 2.5</li>
<li>added <a href="#id713"><span class="problematic" id="id714">:setting:`REFERER_ENABLED`</span></a> setting, to control referer middleware</li>
<li>changed default user agent to: <code class="docutils literal"><span class="pre">Scrapy/VERSION</span> <span class="pre">(+http://scrapy.org)</span></code></li>
<li>removed (undocumented) <code class="docutils literal"><span class="pre">HTMLImageLinkExtractor</span></code> class from <code class="docutils literal"><span class="pre">scrapy.contrib.linkextractors.image</span></code></li>
<li>removed per-spider settings (to be replaced by instantiating multiple crawler objects)</li>
<li><code class="docutils literal"><span class="pre">USER_AGENT</span></code> spider attribute will no longer work, use <code class="docutils literal"><span class="pre">user_agent</span></code> attribute instead</li>
<li><code class="docutils literal"><span class="pre">DOWNLOAD_TIMEOUT</span></code> spider attribute will no longer work, use <code class="docutils literal"><span class="pre">download_timeout</span></code> attribute instead</li>
<li>removed <code class="docutils literal"><span class="pre">ENCODING_ALIASES</span></code> setting, as encoding auto-detection has been moved to the <a class="reference external" href="https://github.com/scrapy/w3lib">w3lib</a> library</li>
<li>promoted <a class="reference internal" href="topics/djangoitem.html#topics-djangoitem"><span>DjangoItem</span></a> to main contrib</li>
<li>LogFormatter method now return dicts(instead of strings) to support lazy formatting (<a href="#id715"><span class="problematic" id="id716">:issue:`164`</span></a>, <a href="#id717"><span class="problematic" id="id718">:commit:`dcef7b0`</span></a>)</li>
<li>downloader handlers (<a href="#id719"><span class="problematic" id="id720">:setting:`DOWNLOAD_HANDLERS`</span></a> setting) now receive settings as the first argument of the constructor</li>
<li>replaced memory usage acounting with (more portable) <a class="reference external" href="http://docs.python.org/library/resource.html">resource</a> module, removed <code class="docutils literal"><span class="pre">scrapy.utils.memory</span></code> module</li>
<li>removed signal: <code class="docutils literal"><span class="pre">scrapy.mail.mail_sent</span></code></li>
<li>removed <code class="docutils literal"><span class="pre">TRACK_REFS</span></code> setting, now <a class="reference internal" href="topics/leaks.html#topics-leaks-trackrefs"><span>trackrefs</span></a> is always enabled</li>
<li>DBM is now the default storage backend for HTTP cache middleware</li>
<li>number of log messages (per level) are now tracked through Scrapy stats (stat name: <code class="docutils literal"><span class="pre">log_count/LEVEL</span></code>)</li>
<li>number received responses are now tracked through Scrapy stats (stat name: <code class="docutils literal"><span class="pre">response_received_count</span></code>)</li>
<li>removed <code class="docutils literal"><span class="pre">scrapy.log.started</span></code> attribute</li>
</ul>
</div>
<div class="section" id="id721">
<h2>0.14.4<a class="headerlink" href="#id721" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>added precise to supported ubuntu distros (<a href="#id722"><span class="problematic" id="id723">:commit:`b7e46df`</span></a>)</li>
<li>fixed bug in json-rpc webservice reported in <a class="reference external" href="https://groups.google.com/d/topic/scrapy-users/qgVBmFybNAQ/discussion">https://groups.google.com/d/topic/scrapy-users/qgVBmFybNAQ/discussion</a>. also removed no longer supported &#8216;run&#8217; command from extras/scrapy-ws.py (<a href="#id724"><span class="problematic" id="id725">:commit:`340fbdb`</span></a>)</li>
<li>meta tag attributes for content-type http equiv can be in any order. #123 (<a href="#id726"><span class="problematic" id="id727">:commit:`0cb68af`</span></a>)</li>
<li>replace &#8220;import Image&#8221; by more standard &#8220;from PIL import Image&#8221;. closes #88 (<a href="#id728"><span class="problematic" id="id729">:commit:`4d17048`</span></a>)</li>
<li>return trial status as bin/runtests.sh exit value. #118 (<a href="#id730"><span class="problematic" id="id731">:commit:`b7b2e7f`</span></a>)</li>
</ul>
</div>
<div class="section" id="id732">
<h2>0.14.3<a class="headerlink" href="#id732" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>forgot to include pydispatch license. #118 (<a href="#id733"><span class="problematic" id="id734">:commit:`fd85f9c`</span></a>)</li>
<li>include egg files used by testsuite in source distribution. #118 (<a href="#id735"><span class="problematic" id="id736">:commit:`c897793`</span></a>)</li>
<li>update docstring in project template to avoid confusion with genspider command, which may be considered as an advanced feature. refs #107 (<a href="#id737"><span class="problematic" id="id738">:commit:`2548dcc`</span></a>)</li>
<li>added note to docs/topics/firebug.rst about google directory being shut down (<a href="#id739"><span class="problematic" id="id740">:commit:`668e352`</span></a>)</li>
<li>dont discard slot when empty, just save in another dict in order to recycle if needed again. (<a href="#id741"><span class="problematic" id="id742">:commit:`8e9f607`</span></a>)</li>
<li>do not fail handling unicode xpaths in libxml2 backed selectors (<a href="#id743"><span class="problematic" id="id744">:commit:`b830e95`</span></a>)</li>
<li>fixed minor mistake in Request objects documentation (<a href="#id745"><span class="problematic" id="id746">:commit:`bf3c9ee`</span></a>)</li>
<li>fixed minor defect in link extractors documentation (<a href="#id747"><span class="problematic" id="id748">:commit:`ba14f38`</span></a>)</li>
<li>removed some obsolete remaining code related to sqlite support in scrapy (<a href="#id749"><span class="problematic" id="id750">:commit:`0665175`</span></a>)</li>
</ul>
</div>
<div class="section" id="id751">
<h2>0.14.2<a class="headerlink" href="#id751" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>move buffer pointing to start of file before computing checksum. refs #92 (<a href="#id752"><span class="problematic" id="id753">:commit:`6a5bef2`</span></a>)</li>
<li>Compute image checksum before persisting images. closes #92 (<a href="#id754"><span class="problematic" id="id755">:commit:`9817df1`</span></a>)</li>
<li>remove leaking references in cached failures (<a href="#id756"><span class="problematic" id="id757">:commit:`673a120`</span></a>)</li>
<li>fixed bug in MemoryUsage extension: get_engine_status() takes exactly 1 argument (0 given) (<a href="#id758"><span class="problematic" id="id759">:commit:`11133e9`</span></a>)</li>
<li>fixed struct.error on http compression middleware. closes #87 (<a href="#id760"><span class="problematic" id="id761">:commit:`1423140`</span></a>)</li>
<li>ajax crawling wasn&#8217;t expanding for unicode urls (<a href="#id762"><span class="problematic" id="id763">:commit:`0de3fb4`</span></a>)</li>
<li>Catch start_requests iterator errors. refs #83 (<a href="#id764"><span class="problematic" id="id765">:commit:`454a21d`</span></a>)</li>
<li>Speed-up libxml2 XPathSelector (<a href="#id766"><span class="problematic" id="id767">:commit:`2fbd662`</span></a>)</li>
<li>updated versioning doc according to recent changes (<a href="#id768"><span class="problematic" id="id769">:commit:`0a070f5`</span></a>)</li>
<li>scrapyd: fixed documentation link (<a href="#id770"><span class="problematic" id="id771">:commit:`2b4e4c3`</span></a>)</li>
<li>extras/makedeb.py: no longer obtaining version from git (<a href="#id772"><span class="problematic" id="id773">:commit:`caffe0e`</span></a>)</li>
</ul>
</div>
<div class="section" id="id774">
<h2>0.14.1<a class="headerlink" href="#id774" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li>extras/makedeb.py: no longer obtaining version from git (<a href="#id775"><span class="problematic" id="id776">:commit:`caffe0e`</span></a>)</li>
<li>bumped version to 0.14.1 (<a href="#id777"><span class="problematic" id="id778">:commit:`6cb9e1c`</span></a>)</li>
<li>fixed reference to tutorial directory (<a href="#id779"><span class="problematic" id="id780">:commit:`4b86bd6`</span></a>)</li>
<li>doc: removed duplicated callback argument from Request.replace() (<a href="#id781"><span class="problematic" id="id782">:commit:`1aeccdd`</span></a>)</li>
<li>fixed formatting of scrapyd doc (<a href="#id783"><span class="problematic" id="id784">:commit:`8bf19e6`</span></a>)</li>
<li>Dump stacks for all running threads and fix engine status dumped by StackTraceDump extension (<a href="#id785"><span class="problematic" id="id786">:commit:`14a8e6e`</span></a>)</li>
<li>added comment about why we disable ssl on boto images upload (<a href="#id787"><span class="problematic" id="id788">:commit:`5223575`</span></a>)</li>
<li>SSL handshaking hangs when doing too many parallel connections to S3 (<a href="#id789"><span class="problematic" id="id790">:commit:`63d583d`</span></a>)</li>
<li>change tutorial to follow changes on dmoz site (<a href="#id791"><span class="problematic" id="id792">:commit:`bcb3198`</span></a>)</li>
<li>Avoid _disconnectedDeferred AttributeError exception in Twisted&gt;=11.1.0 (<a href="#id793"><span class="problematic" id="id794">:commit:`98f3f87`</span></a>)</li>
<li>allow spider to set autothrottle max concurrency (<a href="#id795"><span class="problematic" id="id796">:commit:`175a4b5`</span></a>)</li>
</ul>
</div>
<div class="section" id="id797">
<h2>0.14<a class="headerlink" href="#id797" title="永久链接至标题">¶</a></h2>
<div class="section" id="new-features-and-settings">
<h3>New features and settings<a class="headerlink" href="#new-features-and-settings" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Support for <a class="reference external" href="http://code.google.com/web/ajaxcrawling/docs/getting-started.html">AJAX crawleable urls</a></p>
</li>
<li><p class="first">New persistent scheduler that stores requests on disk, allowing to suspend and resume crawls (<a href="#id798"><span class="problematic" id="id799">:rev:`2737`</span></a>)</p>
</li>
<li><p class="first">added <code class="docutils literal"><span class="pre">-o</span></code> option to <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">crawl</span></code>, a shortcut for dumping scraped items into a file (or standard output using <code class="docutils literal"><span class="pre">-</span></code>)</p>
</li>
<li><p class="first">Added support for passing custom settings to Scrapyd <code class="docutils literal"><span class="pre">schedule.json</span></code> api (<a href="#id800"><span class="problematic" id="id801">:rev:`2779`</span></a>, <a href="#id802"><span class="problematic" id="id803">:rev:`2783`</span></a>)</p>
</li>
<li><p class="first">New <code class="docutils literal"><span class="pre">ChunkedTransferMiddleware</span></code> (enabled by default) to support <a class="reference external" href="http://en.wikipedia.org/wiki/Chunked_transfer_encoding">chunked transfer encoding</a> (<a href="#id804"><span class="problematic" id="id805">:rev:`2769`</span></a>)</p>
</li>
<li><p class="first">Add boto 2.0 support for S3 downloader handler (<a href="#id806"><span class="problematic" id="id807">:rev:`2763`</span></a>)</p>
</li>
<li><p class="first">Added <a class="reference external" href="http://docs.python.org/library/marshal.html">marshal</a> to formats supported by feed exports (<a href="#id808"><span class="problematic" id="id809">:rev:`2744`</span></a>)</p>
</li>
<li><p class="first">In request errbacks, offending requests are now received in <cite>failure.request</cite> attribute (<a href="#id810"><span class="problematic" id="id811">:rev:`2738`</span></a>)</p>
</li>
<li><dl class="first docutils">
<dt>Big downloader refactoring to support per domain/ip concurrency limits (<a href="#id812"><span class="problematic" id="id813">:rev:`2732`</span></a>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">CONCURRENT_REQUESTS_PER_SPIDER</span></code> setting has been deprecated and replaced by:</dt>
<dd><ul class="first last simple">
<li><a href="#id814"><span class="problematic" id="id815">:setting:`CONCURRENT_REQUESTS`</span></a>, <a href="#id816"><span class="problematic" id="id817">:setting:`CONCURRENT_REQUESTS_PER_DOMAIN`</span></a>, <a href="#id818"><span class="problematic" id="id819">:setting:`CONCURRENT_REQUESTS_PER_IP`</span></a></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">check the documentation for more details</p>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Added builtin caching DNS resolver (<a href="#id820"><span class="problematic" id="id821">:rev:`2728`</span></a>)</p>
</li>
<li><p class="first">Moved Amazon AWS-related components/extensions (SQS spider queue, SimpleDB stats collector) to a separate project: [scaws](<a class="reference external" href="https://github.com/scrapinghub/scaws">https://github.com/scrapinghub/scaws</a>) (<a href="#id822"><span class="problematic" id="id823">:rev:`2706`</span></a>, <a href="#id824"><span class="problematic" id="id825">:rev:`2714`</span></a>)</p>
</li>
<li><p class="first">Moved spider queues to scrapyd: <cite>scrapy.spiderqueue</cite> -&gt; <cite>scrapyd.spiderqueue</cite> (<a href="#id826"><span class="problematic" id="id827">:rev:`2708`</span></a>)</p>
</li>
<li><p class="first">Moved sqlite utils to scrapyd: <cite>scrapy.utils.sqlite</cite> -&gt; <cite>scrapyd.sqlite</cite> (<a href="#id828"><span class="problematic" id="id829">:rev:`2781`</span></a>)</p>
</li>
<li><p class="first">Real support for returning iterators on <cite>start_requests()</cite> method. The iterator is now consumed during the crawl when the spider is getting idle (<a href="#id830"><span class="problematic" id="id831">:rev:`2704`</span></a>)</p>
</li>
<li><p class="first">Added <a href="#id832"><span class="problematic" id="id833">:setting:`REDIRECT_ENABLED`</span></a> setting to quickly enable/disable the redirect middleware (<a href="#id834"><span class="problematic" id="id835">:rev:`2697`</span></a>)</p>
</li>
<li><p class="first">Added <a href="#id836"><span class="problematic" id="id837">:setting:`RETRY_ENABLED`</span></a> setting to quickly enable/disable the retry middleware (<a href="#id838"><span class="problematic" id="id839">:rev:`2694`</span></a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">CloseSpider</span></code> exception to manually close spiders (<a href="#id840"><span class="problematic" id="id841">:rev:`2691`</span></a>)</p>
</li>
<li><p class="first">Improved encoding detection by adding support for HTML5 meta charset declaration (<a href="#id842"><span class="problematic" id="id843">:rev:`2690`</span></a>)</p>
</li>
<li><p class="first">Refactored close spider behavior to wait for all downloads to finish and be processed by spiders, before closing the spider (<a href="#id844"><span class="problematic" id="id845">:rev:`2688`</span></a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">SitemapSpider</span></code> (see documentation in Spiders page) (<a href="#id846"><span class="problematic" id="id847">:rev:`2658`</span></a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">LogStats</span></code> extension for periodically logging basic stats (like crawled pages and scraped items) (<a href="#id848"><span class="problematic" id="id849">:rev:`2657`</span></a>)</p>
</li>
<li><p class="first">Make handling of gzipped responses more robust (#319, <a href="#id850"><span class="problematic" id="id851">:rev:`2643`</span></a>). Now Scrapy will try and decompress as much as possible from a gzipped response, instead of failing with an <cite>IOError</cite>.</p>
</li>
<li><p class="first">Simplified !MemoryDebugger extension to use stats for dumping memory debugging info (<a href="#id852"><span class="problematic" id="id853">:rev:`2639`</span></a>)</p>
</li>
<li><p class="first">Added new command to edit spiders: <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">edit</span></code> (<a href="#id854"><span class="problematic" id="id855">:rev:`2636`</span></a>) and <cite>-e</cite> flag to <cite>genspider</cite> command that uses it (<a href="#id856"><span class="problematic" id="id857">:rev:`2653`</span></a>)</p>
</li>
<li><p class="first">Changed default representation of items to pretty-printed dicts. (<a href="#id858"><span class="problematic" id="id859">:rev:`2631`</span></a>). This improves default logging by making log more readable in the default case, for both Scraped and Dropped lines.</p>
</li>
<li><p class="first">Added <a href="#id860"><span class="problematic" id="id861">:signal:`spider_error`</span></a> signal (<a href="#id862"><span class="problematic" id="id863">:rev:`2628`</span></a>)</p>
</li>
<li><p class="first">Added <a href="#id864"><span class="problematic" id="id865">:setting:`COOKIES_ENABLED`</span></a> setting (<a href="#id866"><span class="problematic" id="id867">:rev:`2625`</span></a>)</p>
</li>
<li><p class="first">Stats are now dumped to Scrapy log (default value of <a href="#id868"><span class="problematic" id="id869">:setting:`STATS_DUMP`</span></a> setting has been changed to <cite>True</cite>). This is to make Scrapy users more aware of Scrapy stats and the data that is collected there.</p>
</li>
<li><p class="first">Added support for dynamically adjusting download delay and maximum concurrent requests (<a href="#id870"><span class="problematic" id="id871">:rev:`2599`</span></a>)</p>
</li>
<li><p class="first">Added new DBM HTTP cache storage backend (<a href="#id872"><span class="problematic" id="id873">:rev:`2576`</span></a>)</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">listjobs.json</span></code> API to Scrapyd (<a href="#id874"><span class="problematic" id="id875">:rev:`2571`</span></a>)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">CsvItemExporter</span></code>: added <code class="docutils literal"><span class="pre">join_multivalued</span></code> parameter (<a href="#id876"><span class="problematic" id="id877">:rev:`2578`</span></a>)</p>
</li>
<li><p class="first">Added namespace support to <code class="docutils literal"><span class="pre">xmliter_lxml</span></code> (<a href="#id878"><span class="problematic" id="id879">:rev:`2552`</span></a>)</p>
</li>
<li><p class="first">Improved cookies middleware by making <cite>COOKIES_DEBUG</cite> nicer and documenting it (<a href="#id880"><span class="problematic" id="id881">:rev:`2579`</span></a>)</p>
</li>
<li><p class="first">Several improvements to Scrapyd and Link extractors</p>
</li>
</ul>
</div>
<div class="section" id="code-rearranged-and-removed">
<h3>Code rearranged and removed<a class="headerlink" href="#code-rearranged-and-removed" title="永久链接至标题">¶</a></h3>
<ul>
<li><dl class="first docutils">
<dt>Merged item passed and item scraped concepts, as they have often proved confusing in the past. This means: (<a href="#id882"><span class="problematic" id="id883">:rev:`2630`</span></a>)</dt>
<dd><ul class="first last simple">
<li>original item_scraped signal was removed</li>
<li>original item_passed signal was renamed to item_scraped</li>
<li>old log lines <code class="docutils literal"><span class="pre">Scraped</span> <span class="pre">Item...</span></code> were removed</li>
<li>old log lines <code class="docutils literal"><span class="pre">Passed</span> <span class="pre">Item...</span></code> were renamed to <code class="docutils literal"><span class="pre">Scraped</span> <span class="pre">Item...</span></code> lines and downgraded to <code class="docutils literal"><span class="pre">DEBUG</span></code> level</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Reduced Scrapy codebase by striping part of Scrapy code into two new libraries:</dt>
<dd><ul class="first last simple">
<li><a class="reference external" href="https://github.com/scrapy/w3lib">w3lib</a> (several functions from <code class="docutils literal"><span class="pre">scrapy.utils.{http,markup,multipart,response,url}</span></code>, done in <a href="#id884"><span class="problematic" id="id885">:rev:`2584`</span></a>)</li>
<li><a class="reference external" href="https://github.com/scrapy/scrapely">scrapely</a> (was <code class="docutils literal"><span class="pre">scrapy.contrib.ibl</span></code>, done in <a href="#id886"><span class="problematic" id="id887">:rev:`2586`</span></a>)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Removed unused function: <cite>scrapy.utils.request.request_info()</cite> (<a href="#id888"><span class="problematic" id="id889">:rev:`2577`</span></a>)</p>
</li>
<li><p class="first">Removed googledir project from <cite>examples/googledir</cite>. There&#8217;s now a new example project called <cite>dirbot</cite> available on github: <a class="reference external" href="https://github.com/scrapy/dirbot">https://github.com/scrapy/dirbot</a></p>
</li>
<li><p class="first">Removed support for default field values in Scrapy items (<a href="#id890"><span class="problematic" id="id891">:rev:`2616`</span></a>)</p>
</li>
<li><p class="first">Removed experimental crawlspider v2 (<a href="#id892"><span class="problematic" id="id893">:rev:`2632`</span></a>)</p>
</li>
<li><p class="first">Removed scheduler middleware to simplify architecture. Duplicates filter is now done in the scheduler itself, using the same dupe fltering class as before (<cite>DUPEFILTER_CLASS</cite> setting) (<a href="#id894"><span class="problematic" id="id895">:rev:`2640`</span></a>)</p>
</li>
<li><p class="first">Removed support for passing urls to <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">crawl</span></code> command (use <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">parse</span></code> instead) (<a href="#id896"><span class="problematic" id="id897">:rev:`2704`</span></a>)</p>
</li>
<li><p class="first">Removed deprecated Execution Queue (<a href="#id898"><span class="problematic" id="id899">:rev:`2704`</span></a>)</p>
</li>
<li><p class="first">Removed (undocumented) spider context extension (from scrapy.contrib.spidercontext) (<a href="#id900"><span class="problematic" id="id901">:rev:`2780`</span></a>)</p>
</li>
<li><p class="first">removed <code class="docutils literal"><span class="pre">CONCURRENT_SPIDERS</span></code> setting (use scrapyd maxproc instead) (<a href="#id902"><span class="problematic" id="id903">:rev:`2789`</span></a>)</p>
</li>
<li><p class="first">Renamed attributes of core components: downloader.sites -&gt; downloader.slots, scraper.sites -&gt; scraper.slots (<a href="#id904"><span class="problematic" id="id905">:rev:`2717`</span></a>, <a href="#id906"><span class="problematic" id="id907">:rev:`2718`</span></a>)</p>
</li>
<li><p class="first">Renamed setting <code class="docutils literal"><span class="pre">CLOSESPIDER_ITEMPASSED</span></code> to <a href="#id908"><span class="problematic" id="id909">:setting:`CLOSESPIDER_ITEMCOUNT`</span></a> (<a href="#id910"><span class="problematic" id="id911">:rev:`2655`</span></a>). Backwards compatibility kept.</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id912">
<h2>0.12<a class="headerlink" href="#id912" title="永久链接至标题">¶</a></h2>
<p>The numbers like #NNN reference tickets in the old issue tracker (Trac) which is no longer available.</p>
<div class="section" id="new-features-and-improvements">
<h3>New features and improvements<a class="headerlink" href="#new-features-and-improvements" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Passed item is now sent in the <code class="docutils literal"><span class="pre">item</span></code> argument of the <a href="#id913"><span class="problematic" id="id914">:signal:`item_passed`</span></a> (#273)</li>
<li>Added verbose option to <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">version</span></code> command, useful for bug reports (#298)</li>
<li>HTTP cache now stored by default in the project data dir (#279)</li>
<li>Added project data storage directory (#276, #277)</li>
<li>Documented file structure of Scrapy projects (see command-line tool doc)</li>
<li>New lxml backend for XPath selectors (#147)</li>
<li>Per-spider settings (#245)</li>
<li>Support exit codes to signal errors in Scrapy commands (#248)</li>
<li>Added <code class="docutils literal"><span class="pre">-c</span></code> argument to <code class="docutils literal"><span class="pre">scrapy</span> <span class="pre">shell</span></code> command</li>
<li>Made <code class="docutils literal"><span class="pre">libxml2</span></code> optional (#260)</li>
<li>New <code class="docutils literal"><span class="pre">deploy</span></code> command (#261)</li>
<li>Added <a href="#id915"><span class="problematic" id="id916">:setting:`CLOSESPIDER_PAGECOUNT`</span></a> setting (#253)</li>
<li>Added <a href="#id917"><span class="problematic" id="id918">:setting:`CLOSESPIDER_ERRORCOUNT`</span></a> setting (#254)</li>
</ul>
</div>
<div class="section" id="scrapyd-changes">
<h3>Scrapyd changes<a class="headerlink" href="#scrapyd-changes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Scrapyd now uses one process per spider</li>
<li>It stores one log file per spider run, and rotate them keeping the lastest 5 logs per spider (by default)</li>
<li>A minimal web ui was added, available at <a class="reference external" href="http://localhost:6800/">http://localhost:6800</a> by default</li>
<li>There is now a <cite>scrapy server</cite> command to start a Scrapyd server of the current project</li>
</ul>
</div>
<div class="section" id="changes-to-settings">
<h3>Changes to settings<a class="headerlink" href="#changes-to-settings" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>added <cite>HTTPCACHE_ENABLED</cite> setting (False by default) to enable HTTP cache middleware</li>
<li>changed <cite>HTTPCACHE_EXPIRATION_SECS</cite> semantics: now zero means &#8220;never expire&#8221;.</li>
</ul>
</div>
<div class="section" id="deprecated-obsoleted-functionality">
<h3>Deprecated/obsoleted functionality<a class="headerlink" href="#deprecated-obsoleted-functionality" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Deprecated <code class="docutils literal"><span class="pre">runserver</span></code> command in favor of <code class="docutils literal"><span class="pre">server</span></code> command which starts a Scrapyd server. See also: Scrapyd changes</li>
<li>Deprecated <code class="docutils literal"><span class="pre">queue</span></code> command in favor of using Scrapyd <code class="docutils literal"><span class="pre">schedule.json</span></code> API. See also: Scrapyd changes</li>
<li>Removed the !LxmlItemLoader (experimental contrib which never graduated to main contrib)</li>
</ul>
</div>
</div>
<div class="section" id="id919">
<h2>0.10<a class="headerlink" href="#id919" title="永久链接至标题">¶</a></h2>
<p>The numbers like #NNN reference tickets in the old issue tracker (Trac) which is no longer available.</p>
<div class="section" id="id920">
<h3>New features and improvements<a class="headerlink" href="#id920" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>New Scrapy service called <code class="docutils literal"><span class="pre">scrapyd</span></code> for deploying Scrapy crawlers in production (#218) (documentation available)</li>
<li>Simplified Images pipeline usage which doesn&#8217;t require subclassing your own images pipeline now (#217)</li>
<li>Scrapy shell now shows the Scrapy log by default (#206)</li>
<li>Refactored execution queue in a common base code and pluggable backends called &#8220;spider queues&#8221; (#220)</li>
<li>New persistent spider queue (based on SQLite) (#198), available by default, which allows to start Scrapy in server mode and then schedule spiders to run.</li>
<li>Added documentation for Scrapy command-line tool and all its available sub-commands. (documentation available)</li>
<li>Feed exporters with pluggable backends (#197) (documentation available)</li>
<li>Deferred signals (#193)</li>
<li>Added two new methods to item pipeline open_spider(), close_spider() with deferred support (#195)</li>
<li>Support for overriding default request headers per spider (#181)</li>
<li>Replaced default Spider Manager with one with similar functionality but not depending on Twisted Plugins (#186)</li>
<li>Splitted Debian package into two packages - the library and the service (#187)</li>
<li>Scrapy log refactoring (#188)</li>
<li>New extension for keeping persistent spider contexts among different runs (#203)</li>
<li>Added <cite>dont_redirect</cite> request.meta key for avoiding redirects (#233)</li>
<li>Added <cite>dont_retry</cite> request.meta key for avoiding retries (#234)</li>
</ul>
</div>
<div class="section" id="command-line-tool-changes">
<h3>Command-line tool changes<a class="headerlink" href="#command-line-tool-changes" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>New <cite>scrapy</cite> command which replaces the old <cite>scrapy-ctl.py</cite> (#199)
- there is only one global <cite>scrapy</cite> command now, instead of one <cite>scrapy-ctl.py</cite> per project
- Added <cite>scrapy.bat</cite> script for running more conveniently from Windows</li>
<li>Added bash completion to command-line tool (#210)</li>
<li>Renamed command <cite>start</cite> to <cite>runserver</cite> (#209)</li>
</ul>
</div>
<div class="section" id="api-changes">
<h3>API changes<a class="headerlink" href="#api-changes" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first"><code class="docutils literal"><span class="pre">url</span></code> and <code class="docutils literal"><span class="pre">body</span></code> attributes of Request objects are now read-only (#230)</p>
</li>
<li><p class="first"><code class="docutils literal"><span class="pre">Request.copy()</span></code> and <code class="docutils literal"><span class="pre">Request.replace()</span></code> now also copies their <code class="docutils literal"><span class="pre">callback</span></code> and <code class="docutils literal"><span class="pre">errback</span></code> attributes (#231)</p>
</li>
<li><p class="first">Removed <code class="docutils literal"><span class="pre">UrlFilterMiddleware</span></code> from <code class="docutils literal"><span class="pre">scrapy.contrib</span></code> (already disabled by default)</p>
</li>
<li><p class="first">Offsite middelware doesn&#8217;t filter out any request coming from a spider that doesn&#8217;t have a allowed_domains attribute (#225)</p>
</li>
<li><p class="first">Removed Spider Manager <code class="docutils literal"><span class="pre">load()</span></code> method. Now spiders are loaded in the constructor itself.</p>
</li>
<li><dl class="first docutils">
<dt>Changes to Scrapy Manager (now called &#8220;Crawler&#8221;):</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">scrapy.core.manager.ScrapyManager</span></code> class renamed to <code class="docutils literal"><span class="pre">scrapy.crawler.Crawler</span></code></li>
<li><code class="docutils literal"><span class="pre">scrapy.core.manager.scrapymanager</span></code> singleton moved to <code class="docutils literal"><span class="pre">scrapy.project.crawler</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Moved module: <code class="docutils literal"><span class="pre">scrapy.contrib.spidermanager</span></code> to <code class="docutils literal"><span class="pre">scrapy.spidermanager</span></code></p>
</li>
<li><p class="first">Spider Manager singleton moved from <code class="docutils literal"><span class="pre">scrapy.spider.spiders</span></code> to the <code class="docutils literal"><span class="pre">spiders`</span> <span class="pre">attribute</span> <span class="pre">of</span> <span class="pre">``scrapy.project.crawler</span></code> singleton.</p>
</li>
<li><dl class="first docutils">
<dt>moved Stats Collector classes: (#204)</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">scrapy.stats.collector.StatsCollector</span></code> to <code class="docutils literal"><span class="pre">scrapy.statscol.StatsCollector</span></code></li>
<li><code class="docutils literal"><span class="pre">scrapy.stats.collector.SimpledbStatsCollector</span></code> to <code class="docutils literal"><span class="pre">scrapy.contrib.statscol.SimpledbStatsCollector</span></code></li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">default per-command settings are now specified in the <code class="docutils literal"><span class="pre">default_settings</span></code> attribute of command object class (#201)</p>
</li>
<li><dl class="first docutils">
<dt>changed arguments of Item pipeline <code class="docutils literal"><span class="pre">process_item()</span></code> method from <code class="docutils literal"><span class="pre">(spider,</span> <span class="pre">item)</span></code> to <code class="docutils literal"><span class="pre">(item,</span> <span class="pre">spider)</span></code></dt>
<dd><ul class="first last simple">
<li>backwards compatibility kept (with deprecation warning)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>moved <code class="docutils literal"><span class="pre">scrapy.core.signals</span></code> module to <code class="docutils literal"><span class="pre">scrapy.signals</span></code></dt>
<dd><ul class="first last simple">
<li>backwards compatibility kept (with deprecation warning)</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>moved <code class="docutils literal"><span class="pre">scrapy.core.exceptions</span></code> module to <code class="docutils literal"><span class="pre">scrapy.exceptions</span></code></dt>
<dd><ul class="first last simple">
<li>backwards compatibility kept (with deprecation warning)</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">added <code class="docutils literal"><span class="pre">handles_request()</span></code> class method to <code class="docutils literal"><span class="pre">BaseSpider</span></code></p>
</li>
<li><p class="first">dropped <code class="docutils literal"><span class="pre">scrapy.log.exc()</span></code> function (use <code class="docutils literal"><span class="pre">scrapy.log.err()</span></code> instead)</p>
</li>
<li><p class="first">dropped <code class="docutils literal"><span class="pre">component</span></code> argument of <code class="docutils literal"><span class="pre">scrapy.log.msg()</span></code> function</p>
</li>
<li><p class="first">dropped <code class="docutils literal"><span class="pre">scrapy.log.log_level</span></code> attribute</p>
</li>
<li><p class="first">Added <code class="docutils literal"><span class="pre">from_settings()</span></code> class methods to Spider Manager, and Item Pipeline Manager</p>
</li>
</ul>
</div>
<div class="section" id="id921">
<h3>Changes to settings<a class="headerlink" href="#id921" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Added <code class="docutils literal"><span class="pre">HTTPCACHE_IGNORE_SCHEMES</span></code> setting to ignore certain schemes on !HttpCacheMiddleware (#225)</li>
<li>Added <code class="docutils literal"><span class="pre">SPIDER_QUEUE_CLASS</span></code> setting which defines the spider queue to use (#220)</li>
<li>Added <code class="docutils literal"><span class="pre">KEEP_ALIVE</span></code> setting (#220)</li>
<li>Removed <code class="docutils literal"><span class="pre">SERVICE_QUEUE</span></code> setting (#220)</li>
<li>Removed <code class="docutils literal"><span class="pre">COMMANDS_SETTINGS_MODULE</span></code> setting (#201)</li>
<li>Renamed <code class="docutils literal"><span class="pre">REQUEST_HANDLERS</span></code> to <code class="docutils literal"><span class="pre">DOWNLOAD_HANDLERS</span></code> and make download handlers classes (instead of functions)</li>
</ul>
</div>
</div>
<div class="section" id="id922">
<h2>0.9<a class="headerlink" href="#id922" title="永久链接至标题">¶</a></h2>
<p>The numbers like #NNN reference tickets in the old issue tracker (Trac) which is no longer available.</p>
<div class="section" id="id923">
<h3>New features and improvements<a class="headerlink" href="#id923" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Added SMTP-AUTH support to scrapy.mail</li>
<li>New settings added: <code class="docutils literal"><span class="pre">MAIL_USER</span></code>, <code class="docutils literal"><span class="pre">MAIL_PASS</span></code> (<a href="#id924"><span class="problematic" id="id925">:rev:`2065`</span></a> | #149)</li>
<li>Added new scrapy-ctl view command - To view URL in the browser, as seen by Scrapy (<a href="#id926"><span class="problematic" id="id927">:rev:`2039`</span></a>)</li>
<li>Added web service for controlling Scrapy process (this also deprecates the web console. (<a href="#id928"><span class="problematic" id="id929">:rev:`2053`</span></a> | #167)</li>
<li>Support for running Scrapy as a service, for production systems (<a href="#id930"><span class="problematic" id="id931">:rev:`1988`</span></a>, <a href="#id932"><span class="problematic" id="id933">:rev:`2054`</span></a>, <a href="#id934"><span class="problematic" id="id935">:rev:`2055`</span></a>, <a href="#id936"><span class="problematic" id="id937">:rev:`2056`</span></a>, <a href="#id938"><span class="problematic" id="id939">:rev:`2057`</span></a> | #168)</li>
<li>Added wrapper induction library (documentation only available in source code for now). (<a href="#id940"><span class="problematic" id="id941">:rev:`2011`</span></a>)</li>
<li>Simplified and improved response encoding support (<a href="#id942"><span class="problematic" id="id943">:rev:`1961`</span></a>, <a href="#id944"><span class="problematic" id="id945">:rev:`1969`</span></a>)</li>
<li>Added <code class="docutils literal"><span class="pre">LOG_ENCODING</span></code> setting (<a href="#id946"><span class="problematic" id="id947">:rev:`1956`</span></a>, documentation available)</li>
<li>Added <code class="docutils literal"><span class="pre">RANDOMIZE_DOWNLOAD_DELAY</span></code> setting (enabled by default) (<a href="#id948"><span class="problematic" id="id949">:rev:`1923`</span></a>, doc available)</li>
<li><code class="docutils literal"><span class="pre">MailSender</span></code> is no longer IO-blocking (<a href="#id950"><span class="problematic" id="id951">:rev:`1955`</span></a> | #146)</li>
<li>Linkextractors and new Crawlspider now handle relative base tag urls (<a href="#id952"><span class="problematic" id="id953">:rev:`1960`</span></a> | #148)</li>
<li>Several improvements to Item Loaders and processors (<a href="#id954"><span class="problematic" id="id955">:rev:`2022`</span></a>, <a href="#id956"><span class="problematic" id="id957">:rev:`2023`</span></a>, <a href="#id958"><span class="problematic" id="id959">:rev:`2024`</span></a>, <a href="#id960"><span class="problematic" id="id961">:rev:`2025`</span></a>, <a href="#id962"><span class="problematic" id="id963">:rev:`2026`</span></a>, <a href="#id964"><span class="problematic" id="id965">:rev:`2027`</span></a>, <a href="#id966"><span class="problematic" id="id967">:rev:`2028`</span></a>, <a href="#id968"><span class="problematic" id="id969">:rev:`2029`</span></a>, <a href="#id970"><span class="problematic" id="id971">:rev:`2030`</span></a>)</li>
<li>Added support for adding variables to telnet console (<a href="#id972"><span class="problematic" id="id973">:rev:`2047`</span></a> | #165)</li>
<li>Support for requests without callbacks (<a href="#id974"><span class="problematic" id="id975">:rev:`2050`</span></a> | #166)</li>
</ul>
</div>
<div class="section" id="id976">
<h3>API changes<a class="headerlink" href="#id976" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Change <code class="docutils literal"><span class="pre">Spider.domain_name</span></code> to <code class="docutils literal"><span class="pre">Spider.name</span></code> (SEP-012, <a href="#id977"><span class="problematic" id="id978">:rev:`1975`</span></a>)</li>
<li><code class="docutils literal"><span class="pre">Response.encoding</span></code> is now the detected encoding (<a href="#id979"><span class="problematic" id="id980">:rev:`1961`</span></a>)</li>
<li><code class="docutils literal"><span class="pre">HttpErrorMiddleware</span></code> now returns None or raises an exception (<a href="#id981"><span class="problematic" id="id982">:rev:`2006`</span></a> | #157)</li>
<li><code class="docutils literal"><span class="pre">scrapy.command</span></code> modules relocation (<a href="#id983"><span class="problematic" id="id984">:rev:`2035`</span></a>, <a href="#id985"><span class="problematic" id="id986">:rev:`2036`</span></a>, <a href="#id987"><span class="problematic" id="id988">:rev:`2037`</span></a>)</li>
<li>Added <code class="docutils literal"><span class="pre">ExecutionQueue</span></code> for feeding spiders to scrape (<a href="#id989"><span class="problematic" id="id990">:rev:`2034`</span></a>)</li>
<li>Removed <code class="docutils literal"><span class="pre">ExecutionEngine</span></code> singleton (<a href="#id991"><span class="problematic" id="id992">:rev:`2039`</span></a>)</li>
<li>Ported <code class="docutils literal"><span class="pre">S3ImagesStore</span></code> (images pipeline) to use boto and threads (<a href="#id993"><span class="problematic" id="id994">:rev:`2033`</span></a>)</li>
<li>Moved module: <code class="docutils literal"><span class="pre">scrapy.management.telnet</span></code> to <code class="docutils literal"><span class="pre">scrapy.telnet</span></code> (<a href="#id995"><span class="problematic" id="id996">:rev:`2047`</span></a>)</li>
</ul>
</div>
<div class="section" id="changes-to-default-settings">
<h3>Changes to default settings<a class="headerlink" href="#changes-to-default-settings" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Changed default <code class="docutils literal"><span class="pre">SCHEDULER_ORDER</span></code> to <code class="docutils literal"><span class="pre">DFO</span></code> (<a href="#id997"><span class="problematic" id="id998">:rev:`1939`</span></a>)</li>
</ul>
</div>
</div>
<div class="section" id="id999">
<h2>0.8<a class="headerlink" href="#id999" title="永久链接至标题">¶</a></h2>
<p>The numbers like #NNN reference tickets in the old issue tracker (Trac) which is no longer available.</p>
<div class="section" id="new-features">
<h3>New features<a class="headerlink" href="#new-features" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li>Added DEFAULT_RESPONSE_ENCODING setting (<a href="#id1000"><span class="problematic" id="id1001">:rev:`1809`</span></a>)</li>
<li>Added <code class="docutils literal"><span class="pre">dont_click</span></code> argument to <code class="docutils literal"><span class="pre">FormRequest.from_response()</span></code> method (<a href="#id1002"><span class="problematic" id="id1003">:rev:`1813`</span></a>, <a href="#id1004"><span class="problematic" id="id1005">:rev:`1816`</span></a>)</li>
<li>Added <code class="docutils literal"><span class="pre">clickdata</span></code> argument to <code class="docutils literal"><span class="pre">FormRequest.from_response()</span></code> method (<a href="#id1006"><span class="problematic" id="id1007">:rev:`1802`</span></a>, <a href="#id1008"><span class="problematic" id="id1009">:rev:`1803`</span></a>)</li>
<li>Added support for HTTP proxies (<code class="docutils literal"><span class="pre">HttpProxyMiddleware</span></code>) (<a href="#id1010"><span class="problematic" id="id1011">:rev:`1781`</span></a>, <a href="#id1012"><span class="problematic" id="id1013">:rev:`1785`</span></a>)</li>
<li>Offiste spider middleware now logs messages when filtering out requests (<a href="#id1014"><span class="problematic" id="id1015">:rev:`1841`</span></a>)</li>
</ul>
</div>
<div class="section" id="backwards-incompatible-changes">
<h3>Backwards-incompatible changes<a class="headerlink" href="#backwards-incompatible-changes" title="永久链接至标题">¶</a></h3>
<ul>
<li><p class="first">Changed <code class="docutils literal"><span class="pre">scrapy.utils.response.get_meta_refresh()</span></code> signature (<a href="#id1016"><span class="problematic" id="id1017">:rev:`1804`</span></a>)</p>
</li>
<li><p class="first">Removed deprecated <code class="docutils literal"><span class="pre">scrapy.item.ScrapedItem</span></code> class - use <code class="docutils literal"><span class="pre">scrapy.item.Item</span> <span class="pre">instead</span></code> (<a href="#id1018"><span class="problematic" id="id1019">:rev:`1838`</span></a>)</p>
</li>
<li><p class="first">Removed deprecated <code class="docutils literal"><span class="pre">scrapy.xpath</span></code> module - use <code class="docutils literal"><span class="pre">scrapy.selector</span></code> instead. (<a href="#id1020"><span class="problematic" id="id1021">:rev:`1836`</span></a>)</p>
</li>
<li><p class="first">Removed deprecated <code class="docutils literal"><span class="pre">core.signals.domain_open</span></code> signal - use <code class="docutils literal"><span class="pre">core.signals.domain_opened</span></code> instead (<a href="#id1022"><span class="problematic" id="id1023">:rev:`1822`</span></a>)</p>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">log.msg()</span></code> now receives a <code class="docutils literal"><span class="pre">spider</span></code> argument (<a href="#id1024"><span class="problematic" id="id1025">:rev:`1822`</span></a>)</dt>
<dd><ul class="first last simple">
<li>Old domain argument has been deprecated and will be removed in 0.9. For spiders, you should always use the <code class="docutils literal"><span class="pre">spider</span></code> argument and pass spider references. If you really want to pass a string, use the <code class="docutils literal"><span class="pre">component</span></code> argument instead.</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Changed core signals <code class="docutils literal"><span class="pre">domain_opened</span></code>, <code class="docutils literal"><span class="pre">domain_closed</span></code>, <code class="docutils literal"><span class="pre">domain_idle</span></code></p>
</li>
<li><dl class="first docutils">
<dt>Changed Item pipeline to use spiders instead of domains</dt>
<dd><ul class="first last simple">
<li>The <code class="docutils literal"><span class="pre">domain</span></code> argument of  <code class="docutils literal"><span class="pre">process_item()</span></code> item pipeline method was changed to  <code class="docutils literal"><span class="pre">spider</span></code>, the new signature is: <code class="docutils literal"><span class="pre">process_item(spider,</span> <span class="pre">item)</span></code> (<a href="#id1026"><span class="problematic" id="id1027">:rev:`1827`</span></a> | #105)</li>
<li>To quickly port your code (to work with Scrapy 0.8) just use <code class="docutils literal"><span class="pre">spider.domain_name</span></code> where you previously used <code class="docutils literal"><span class="pre">domain</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>Changed Stats API to use spiders instead of domains (<a href="#id1028"><span class="problematic" id="id1029">:rev:`1849`</span></a> | #113)</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">StatsCollector</span></code> was changed to receive spider references (instead of domains) in its methods (<code class="docutils literal"><span class="pre">set_value</span></code>, <code class="docutils literal"><span class="pre">inc_value</span></code>, etc).</li>
<li>added <code class="docutils literal"><span class="pre">StatsCollector.iter_spider_stats()</span></code> method</li>
<li>removed <code class="docutils literal"><span class="pre">StatsCollector.list_domains()</span></code> method</li>
<li>Also, Stats signals were renamed and now pass around spider references (instead of domains). Here&#8217;s a summary of the changes:</li>
<li>To quickly port your code (to work with Scrapy 0.8) just use <code class="docutils literal"><span class="pre">spider.domain_name</span></code> where you previously used <code class="docutils literal"><span class="pre">domain</span></code>. <code class="docutils literal"><span class="pre">spider_stats</span></code> contains exactly the same data as <code class="docutils literal"><span class="pre">domain_stats</span></code>.</li>
</ul>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt><code class="docutils literal"><span class="pre">CloseDomain</span></code> extension moved to <code class="docutils literal"><span class="pre">scrapy.contrib.closespider.CloseSpider</span></code> (<a href="#id1030"><span class="problematic" id="id1031">:rev:`1833`</span></a>)</dt>
<dd><ul class="first last">
<li><dl class="first docutils">
<dt>Its settings were also renamed:</dt>
<dd><ul class="first last simple">
<li><code class="docutils literal"><span class="pre">CLOSEDOMAIN_TIMEOUT</span></code> to <code class="docutils literal"><span class="pre">CLOSESPIDER_TIMEOUT</span></code></li>
<li><code class="docutils literal"><span class="pre">CLOSEDOMAIN_ITEMCOUNT</span></code> to <code class="docutils literal"><span class="pre">CLOSESPIDER_ITEMCOUNT</span></code></li>
</ul>
</dd>
</dl>
</li>
</ul>
</dd>
</dl>
</li>
<li><p class="first">Removed deprecated <code class="docutils literal"><span class="pre">SCRAPYSETTINGS_MODULE</span></code> environment variable - use <code class="docutils literal"><span class="pre">SCRAPY_SETTINGS_MODULE</span></code> instead (<a href="#id1032"><span class="problematic" id="id1033">:rev:`1840`</span></a>)</p>
</li>
<li><p class="first">Renamed setting: <code class="docutils literal"><span class="pre">REQUESTS_PER_DOMAIN</span></code> to <code class="docutils literal"><span class="pre">CONCURRENT_REQUESTS_PER_SPIDER</span></code> (<a href="#id1034"><span class="problematic" id="id1035">:rev:`1830`</span></a>, <a href="#id1036"><span class="problematic" id="id1037">:rev:`1844`</span></a>)</p>
</li>
<li><p class="first">Renamed setting: <code class="docutils literal"><span class="pre">CONCURRENT_DOMAINS</span></code> to <code class="docutils literal"><span class="pre">CONCURRENT_SPIDERS</span></code> (<a href="#id1038"><span class="problematic" id="id1039">:rev:`1830`</span></a>)</p>
</li>
<li><p class="first">Refactored HTTP Cache middleware</p>
</li>
<li><p class="first">HTTP Cache middleware has been heavilty refactored, retaining the same functionality except for the domain sectorization which was removed. (<a href="#id1040"><span class="problematic" id="id1041">:rev:`1843`</span></a> )</p>
</li>
<li><p class="first">Renamed exception: <code class="docutils literal"><span class="pre">DontCloseDomain</span></code> to <code class="docutils literal"><span class="pre">DontCloseSpider</span></code> (<a href="#id1042"><span class="problematic" id="id1043">:rev:`1859`</span></a> | #120)</p>
</li>
<li><p class="first">Renamed extension: <code class="docutils literal"><span class="pre">DelayedCloseDomain</span></code> to <code class="docutils literal"><span class="pre">SpiderCloseDelay</span></code> (<a href="#id1044"><span class="problematic" id="id1045">:rev:`1861`</span></a> | #121)</p>
</li>
<li><p class="first">Removed obsolete <code class="docutils literal"><span class="pre">scrapy.utils.markup.remove_escape_chars</span></code> function - use <code class="docutils literal"><span class="pre">scrapy.utils.markup.replace_escape_chars</span></code> instead (<a href="#id1046"><span class="problematic" id="id1047">:rev:`1865`</span></a>)</p>
</li>
</ul>
</div>
</div>
<div class="section" id="id1048">
<h2>0.7<a class="headerlink" href="#id1048" title="永久链接至标题">¶</a></h2>
<p>First release of Scrapy.</p>
</div>
</div>


    

           </div>
          </div>
	<hr/>
	<div>
		<p>扫码关注，获取更多内容</p>
		<img src="../../statics/img/qrcode.jpg" width="100" height="100" />
	</div>
	<!-- duoshuo start -->
	<div class="ds-thread"></div>
	<script type="text/javascript">
	var duoshuoQuery = {short_name:"pytabdocs"};
		(function() {
			var ds = document.createElement('script');
			ds.type = 'text/javascript';ds.async = true;
			ds.src = '../../statics/js/duoshuo.js';
			ds.charset = 'UTF-8';
			(document.getElementsByTagName('head')[0] 
			 || document.getElementsByTagName('body')[0]).appendChild(ds);
		})();
	</script>
	<!-- duoshuo end -->
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="contributing.html" class="btn btn-neutral float-right" title="Contributing to Scrapy" accesskey="n">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="topics/exporters.html" class="btn btn-neutral" title="Item Exporters" accesskey="p"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; 版权所有 Scrapy.

    </p>
  </div> 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.25',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>
      <script type="text/javascript" src="_static/translations.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
  
     
    

  <script type="text/javascript" src="../../static/js/global.html" ></script>
  <script type="text/javascript">
        var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
        document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F141f4ed9eb11f462fa19fdd960639134' type='text/javascript'%3E%3C/script%3E"));
  </script>
</body>

<!-- Mirrored from docs.pythontab.com/scrapy/scrapy0.24/news.html by HTTrack Website Copier/3.x [XR&CO'2014], Tue, 04 Oct 2022 03:51:26 GMT -->
</html>